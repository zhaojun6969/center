import{_ as e,u as s}from"./index-C1ozWA1l.js";/* empty css                 */import{ax as t,r as i,f as a,aA as l,z as o,B as c,P as r,u as n,R as d,A as u}from"./vendor-p2oL7ibe.js";import{U as v}from"./index-DP-Md-m3.js";import{D as p,d as m}from"./elementPlus-MWeHapXo.js";const w={class:"waitlist-container"},b={class:"waitlist-content"},h={class:"waitlist-title"},g={class:"waitlist-description"},f={class:"invite-code-section"},k={class:"invite-code-prompt",style:{color:"#6b46c1"}},y={class:"action-buttons"},C=["disabled"],x=e({__name:"Waitlist",setup(e){const{t:x}=t(),j=l(),_=s(),B=new v,I=i(""),z=i(!1),P=()=>{j.replace("/")},U=async()=>{try{await _.logout(()=>{m.success("退出登录成功"),j.replace("/login")})}catch(e){m.error("退出登录失败，请稍后重试")}},V=async()=>{if(I.value.trim()){z.value=!0;try{const e=await B.upgrade({inviteCode:I.value});0===e.code?(await _.updateUserInfo(),m.success("升级成功"),j.replace("/czhome")):m.error(e.message||"升级失败")}catch(e){m.error(e.message||"升级失败，请稍后重试")}finally{z.value=!1}}};return a(()=>{const e=_.user?.userRole;1!=e&&2!=e||j.replace("/czhome")}),(e,s)=>{const t=p;return u(),o("div",w,[c("div",b,[s[1]||(s[1]=c("div",{class:"waitlist-icon"},[c("svg",{width:"120",height:"120",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("circle",{cx:"12",cy:"12",r:"10",stroke:"#6B46C1","stroke-width":"2",fill:"rgba(107, 70, 193, 0.1)"}),c("path",{d:"M9 12L11 14L15 10",stroke:"#6B46C1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),c("div",h,r(n(x)("waitlist.title")),1),c("div",g,r(n(x)("waitlist.description")),1),c("div",f,[c("div",k,r(n(x)("waitlist.hasInviteCode")),1),d(t,{modelValue:I.value,"onUpdate:modelValue":s[0]||(s[0]=e=>I.value=e),placeholder:n(x)("waitlist.inviteCodePlaceholder"),class:"invite-code-input",clearable:""},null,8,["modelValue","placeholder"])]),c("div",y,[c("button",{class:"primary-button",onClick:V,disabled:z.value},r(n(x)("waitlist.submitInviteCode")),9,C),c("button",{class:"secondary-button",onClick:P},r(n(x)("waitlist.goHome")),1),c("button",{class:"logout-button",onClick:U},r(n(x)("waitlist.logout")),1)])]),s[2]||(s[2]=c("div",{class:"decoration"},[c("div",{class:"circle circle-1"}),c("div",{class:"circle circle-2"}),c("div",{class:"circle circle-3"})],-1))])}}},[["__scopeId","data-v-b1b16c69"]]);export{x as default};
