import{az as e,r as a,c as t,j as l,X as o,z as s,L as i,A as n,B as r,P as d,E as c,K as u,ai as p,W as v,aJ as m,f as g,R as h,J as y,u as f,aA as k,U as w,al as x,I as b,O as I,Q as D,a5 as C,ah as P,aB as _,n as M}from"./vendor-Bn3bPSOS.js";import{_ as T,f as j,F as $,L as S,T as U,a as A,W as R}from"./index-B89rLV4P.js";import{P as E}from"./index-CztsCl6g.js";import{M as N}from"./index-zPRzP-GC.js";import{az as O,au as B,E as z,aA as F,P as G,w as H,af as J,aB as L}from"./elementPlus-DTQfcfg-.js";import{a as Q,P as W,O as V,D as K,M as X}from"./passiveEventListeners-Bo450qFI.js";/* empty css                   *//* empty css                     *//* empty css                    *//* empty css               *//* empty css                  *//* empty css                 */import"./payserver-CeIc4VL4.js";/* empty css                                                                          */import"./index-BH6MFNXT.js";const Y={class:"add-header"},q={class:"add-title"},Z={class:"add-content"},ee={class:"form-section"},ae={class:"section-label"},te={class:"ip-type-grid"},le={class:"ip-type-label"},oe={class:"ip-type-label"},se={key:0,class:"form-section"},ie={class:"section-label"},ne={class:"hook-selection"},re={class:"hook-label"},de={class:"hook-label"},ce={class:"form-section"},ue={class:"section-label"},pe={class:"prompt-input-container"},ve=["placeholder","disabled"],me={key:0,class:"scan-overlay"},ge=["disabled"],he={class:"form-section"},ye={class:"section-label"},fe={key:0,class:"image-preview"},ke=["src"],we={key:1,class:"upload-progress"},xe={class:"upload-progress-text"},be={key:2,class:"upload-prompt"},Ie={class:"upload-text"},De={class:"add-footer"},Ce=["disabled"],Pe=T({__name:"index",props:{show:{type:Boolean,default:!1},series:{type:String,default:"E1"}},emits:["close","generate","handleHookSelected"],setup(g,{emit:h}){const{t:y,locale:f}=e(),k=new $,w=new j,x=g,b=h,I=a({prompt:"",previewImage:""}),D=a(1),C=a(!1),P=a(!1),_=a(!1),M=a(null),T=a(!0),S=t(()=>!I.value.prompt.trim()&&!I.value.previewImage),U=e=>{D.value=e},A=e=>{T.value=e,b("handleHookSelected",e)},R=()=>{M.value?.click()},E=async e=>{const a=e.target.files[0];a&&await F(a)},N=()=>{C.value=!0},O=()=>{C.value=!0},B=()=>{C.value=!1},z=async e=>{C.value=!1;const a=e.dataTransfer.files[0];a&&a.type.startsWith("image/")&&await F(a)},F=async e=>{try{P.value=!0;const a=new FileReader;a.onload=async e=>{I.value.previewImage=e.target.result;const a=await k.uploadFile(e.target.result);I.value.previewImage=a,P.value=!1},a.readAsDataURL(e)}catch(a){P.value=!1}},G=()=>{I.value.previewImage="",M.value&&(M.value.value="")},H=async()=>{_.value=!0;const e=await w.handleOptimizePrompt(I.value.prompt,{type:"OBJECT",properties:{name:{type:"STRING",description:"è§’è‰²çš„åç§°"},gender:{type:"STRING",description:"è§’è‰²çš„æ€§åˆ«"},type:{type:"STRING",description:"è§’è‰²çš„ç±»åž‹ï¼Œ"+(1==D.value?"äººç‰©":"åŠ¨ç‰©")},appearance:{type:"STRING",description:"è§’è‰²çš„å¤–è§‚æè¿°ï¼Œå¦‚æžœæè¿°åˆ°äº†é¢œè‰²ç›¸å…³çš„ï¼Œç»Ÿä¸€ç”¨æµ…ç±³è‰²æˆ–æµ…å¡å…¶è‰²ï¼Œä¸å°‘äºŽ50å­—æ•°"}},required:["name","gender","appearance"]},f.value,I.value.previewImage);if(_.value=!1,e){const a=y("addModal.optimizedPrompt.name"),t=y("addModal.optimizedPrompt.gender"),l=y("addModal.optimizedPrompt.appearance");I.value.prompt=`${a}: ${e.name}\n${t}: ${e.gender}\n${l}: ${e.appearance}`}},J=()=>{(I.value.prompt.trim()||I.value.previewImage)&&(b("generate",{ipType:D.value,prompt:I.value.prompt,inspirationImage:I.value.previewImage,needHook:T.value}),Q())},L=()=>{Q()},Q=()=>{b("close")};return l(()=>x.show,e=>{document.body.style.overflow=e?"hidden":""}),o(()=>{document.body.style.overflow=""}),(e,a)=>g.show?(n(),s("div",{key:0,class:"add-modal-overlay",onClick:L},[r("div",{class:"add-modal-container",onClick:a[5]||(a[5]=v(()=>{},["stop"]))},[r("div",Y,[r("h2",q,d(e.$t("addModal.title")),1),r("button",{class:"close-button",onClick:Q},[...a[6]||(a[6]=[r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),r("div",Z,[r("div",ee,[r("div",ae,d(e.$t("addModal.ipType")),1),r("div",te,[r("div",{class:c(["ip-type-card",{active:1===D.value}]),onClick:a[0]||(a[0]=e=>U(1))},[r("div",le,d(e.$t("addModal.character")),1)],2),r("div",{class:c(["ip-type-card",{active:2===D.value}]),onClick:a[1]||(a[1]=e=>U(2))},[r("div",oe,d(e.$t("addModal.animal")),1)],2)])]),"E1"===g.series?(n(),s("div",se,[r("div",ie,d(e.$t("iPandCardLeft.needHook")),1),r("div",ne,[r("div",{class:c(["hook-option",{active:!0===T.value}]),onClick:a[2]||(a[2]=e=>A(!0))},[r("div",re,d(e.$t("common.yes")),1)],2),r("div",{class:c(["hook-option",{active:!1===T.value}]),onClick:a[3]||(a[3]=e=>A(!1))},[r("div",de,d(e.$t("common.no")),1)],2)])])):i("",!0),r("div",ce,[r("div",ue,d(e.$t("addModal.textPrompt")),1),r("div",pe,[u(r("textarea",{class:"prompt-input",placeholder:e.$t("addModal.placeholder"),"onUpdate:modelValue":a[4]||(a[4]=e=>I.value.prompt=e),rows:"4",disabled:_.value},null,8,ve),[[p,I.value.prompt]]),_.value?(n(),s("div",me,[...a[7]||(a[7]=[r("div",{class:"scan-line"},null,-1)])])):i("",!0),r("button",{class:"optimizer-btn",onClick:H,disabled:_.value},[...a[8]||(a[8]=[r("span",{class:"btn-icon"},"ðŸª„",-1)])],8,ge)])]),r("div",he,[r("div",ye,d(e.$t("addModal.referenceImage")),1),r("div",{class:c(["image-upload-area",{"drag-over":C.value,uploading:P.value}]),onClick:R,onDragover:v(N,["prevent"]),onDragenter:v(O,["prevent"]),onDragleave:v(B,["prevent"]),onDrop:v(z,["prevent"])},[I.value.previewImage&&!P.value?(n(),s("div",fe,[r("img",{src:I.value.previewImage.replace("draft-user.s3.us-east-2.amazonaws.com","dcts99982ui0s.cloudfront.net"),alt:"Selected image"},null,8,ke),r("button",{class:"remove-image",onClick:v(G,["stop"])},"Ã—")])):P.value?(n(),s("div",we,[a[9]||(a[9]=r("div",{class:"upload-spinner"},[r("div",{class:"spinner-ring"})],-1)),r("div",xe,d(e.$t("addModal.uploading")),1)])):(n(),s("div",be,[a[10]||(a[10]=m('<div class="upload-icon" data-v-8d520406><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-8d520406><rect x="3" y="3" width="18" height="18" rx="2" ry="2" data-v-8d520406></rect><circle cx="8.5" cy="8.5" r="1.5" data-v-8d520406></circle><polyline points="21 15 16 10 5 21" data-v-8d520406></polyline></svg></div>',1)),r("span",Ie,d(e.$t("addModal.uploadOrSelect")),1)])),r("input",{ref_key:"fileInput",ref:M,type:"file",accept:"image/*",onChange:E,class:"hidden-file-input"},null,544)],34)])]),r("div",De,[r("button",{class:"generate-btn",onClick:J,disabled:S.value},d(e.$t("addModal.generate")),9,Ce)])])])):i("",!0)}},[["__scopeId","data-v-8d520406"]]),_e={class:"shu-card-container"},Me={class:"loading-mask"},Te={class:"loading-text"},je={class:"loading-mask"},$e={class:"loading-text"},Se=["title"],Ue={class:"action-buttons"},Ae=["title"],Re={class:"btn-text"},Ee=["title"],Ne={class:"btn-text"},Oe=["title"],Be={class:"btn-text"},ze=T({__name:"shu",props:{combinedPromptJson:{type:Object,default:()=>({})},imageUrl:{type:String,default:""},cardData:{type:Object,default:()=>({})}},emits:["preview","modify","edit","download","delete","customize-to-home"],setup(t,{emit:l}){const{t:o}=e(),i=a({internalImageUrl:"",status:"loading"}),c=t,u=l,p=a(!0),m=()=>{p.value=!1},k=()=>{p.value=!1},w=()=>{u("preview",c.imageUrl)},x=e=>{e.stopPropagation(),u("modify",c.cardData)},b=e=>{e.stopPropagation(),u("edit",i.value.internalImageUrl)},I=e=>{e.stopPropagation(),u("delete",c.cardData)},D=new j,C=()=>{u("customize-to-home",{imageUrl:i.value.internalImageUrl,cardData:c.cardData})},P=async(e,a)=>{D.getTaskGinimi(e,a,t=>{let l=t.splice(0,1)[0];i.value.internalImageUrl=l.url,_({taskId:e,taskQueue:a})},()=>{H.error("Failed to generate image, please try again later."),u("delete")})},_=e=>{u("save-project",{imageUrl:i.value.internalImageUrl,taskId:e?.taskId||"",taskQueue:e?.taskQueue||"",status:"success"})},M=()=>{c.cardData.imageUrl?i.value.internalImageUrl=c.cardData.imageUrl:c.cardData.taskId&&c.cardData.taskQueue?P(c.cardData.taskId,c.cardData.taskQueue):(async()=>{const e=c?.cardData?.diyPromptText&&-1!=c?.cardData?.diyPromptText?.indexOf("[CJT_DEOTA]");try{let a,t=[];c?.cardData?.inspirationImage&&t.push(c.cardData.inspirationImage),e&&(c.cardData.imgyt&&t.push(c.cardData.imgyt),t.push(c.cardData.diyPromptImg),t.push("https://draft-user.s3.us-east-2.amazonaws.com/images/14f98f33-06a7-4629-a42e-d7cfbced786f")),(c.cardData.diyPromptText||c.cardData.addDiyPromptImg)&&t.push(c.cardData.diyPromptImg),1==c?.cardData?.ipType?(a=c.combinedPromptJson.person.content,t.push(...c.combinedPromptJson.person.imgs)):2==c?.cardData?.ipType&&(a=c.combinedPromptJson.animal.content,t.push(...c.combinedPromptJson.animal.imgs)),c.cardData.prompt&&(a=`è§’è‰²å¤–è§‚ï¼š${c.cardData.prompt}.${a}`);let l=c.cardData.diyPromptText||a;if(c.cardData.prompt&&-1!=c.cardData.prompt.indexOf("nospec"))return l="æŒ‰åŽŸå›¾ç”Ÿæˆ",t=[c.cardData.inspirationImage],void(i.value.internalImageUrl=c?.cardData?.inspirationImage);const o=await D.handleGenerateImage(t,l,{project_id:c.cardData.project_id,aspect_ratio:e?"16:9":"9:16"});_(o),P(o.taskId,o.taskQueue)}catch(a){u("delete")}})()};return g(()=>{M()}),(e,a)=>(n(),s("div",_e,[r("div",{class:"image-wrapper",onClick:w},[h(f(O),{src:i.value.internalImageUrl.replace("draft-user.s3.us-east-2.amazonaws.com","dcts99982ui0s.cloudfront.net"),fit:"cover","preview-src-list":[c.imageUrl],onLoad:m,onError:k},{loading:y(()=>[r("div",Me,[a[0]||(a[0]=r("div",{class:"light-scan-container"},[r("div",{class:"light-beam"}),r("div",{class:"light-particles"},[r("span"),r("span"),r("span"),r("span"),r("span")]),r("div",{class:"loading-icon"},[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("circle",{cx:"12",cy:"12",r:"10",stroke:"url(#gradient)","stroke-width":"2"}),r("path",{d:"M12 6V12L16 14",stroke:"url(#gradient)","stroke-width":"2","stroke-linecap":"round"}),r("defs",null,[r("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[r("stop",{offset:"0%","stop-color":"#6B46C1"}),r("stop",{offset:"100%","stop-color":"#A78BFA"})])])])])],-1)),r("div",Te,d(f(o)("loading")),1)])]),error:y(()=>[r("div",je,[a[1]||(a[1]=r("div",{class:"loading-spinner-wrapper"},[r("div",{class:"loading-spinner"}),r("div",{class:"loading-spinner-inner"})],-1)),r("div",$e,d(f(o)("loading")),1),a[2]||(a[2]=r("div",{class:"loading-dots"},[r("span"),r("span"),r("span")],-1))])]),_:1},8,["src","preview-src-list"]),r("button",{class:"purchase-btn",onClick:v(C,["stop"]),title:f(o)("modelModal.purchase")},[...a[3]||(a[3]=[r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("circle",{cx:"9",cy:"21",r:"1"}),r("circle",{cx:"20",cy:"21",r:"1"}),r("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})],-1)])],8,Se)]),r("div",Ue,[r("button",{class:"action-btn",onClick:x,title:f(o)("modelModal.modify")},[h(f(z),{class:"btn-icon"},{default:y(()=>[h(f(B))]),_:1}),r("span",Re,d(f(o)("modelModal.modify")),1)],8,Ae),r("button",{class:"action-btn",onClick:b,title:f(o)("modelModal.edit")},[h(f(z),{class:"btn-icon"},{default:y(()=>[h(f(F))]),_:1}),r("span",Ne,d(f(o)("modelModal.edit")),1)],8,Ee),r("button",{class:"action-btn delete-btn",onClick:I,title:f(o)("modelModal.delete")},[h(f(z),{class:"btn-icon"},{default:y(()=>[h(f(G))]),_:1}),r("span",Be,d(f(o)("modelModal.delete")),1)],8,Oe)])]))}},[["__scopeId","data-v-449629e7"]]),Fe={class:"header-nav"},Ge={class:"header-left"},He=["title"],Je={class:"header-right"},Le={class:"free-counts-display"},Qe={class:"model-count"},We={class:"count-text"},Ve=["title"],Ke={class:"recharge-text"},Xe={class:"cards-container"},Ye={key:0,class:"empty-state"},qe={class:"empty-state-content"},Ze={class:"ai-generated-badge"},ea={class:"empty-state-title"},aa={class:"empty-state-description"},ta={class:"empty-state-tips"},la={class:"tip-item"},oa={class:"tip-item"},sa={class:"tip-item"},ia=["title"],na={key:1,class:"text-input-overlay",role:"dialog","aria-modal":"true","aria-label":"æ–‡æœ¬è¾“å…¥"},ra={class:"text-input-container"},da={class:"text-input-header"},ca={class:"text-input-title"},ua=["placeholder","onKeydown"],pa={class:"text-input-actions"},va=T({__name:"CreateProjectShu",setup(o){const{t:c}=e(),{locale:T}=e(),O=a(null),B=a(null),F=a({tour1:""}),G=new $,H=new N,Y=k(),q=new E,Z=a(!1),ee=a(""),ae=a(null),te=a(null),le=()=>{Y.push("/points-recharge")},oe=()=>{ie.value=!0},se=e=>{ga({count:1,profile:{appearance:e.prompt},inspirationImage:e.inspirationImage,ipType:e.ipType,ipTypeImg:null})};a(!1),a(null);const ie=a(!1);a(!1),a("https://xiaozhi.me/console/agents"),a(!1);const ne=a(!1),re=a(""),de=a(!1),ce=a(!1),ue=a([]),pe=a(0),ve=a(!1),me=a(null),ge=a({}),he=a(null),ye=a(null),fe=a({}),ke=a(0),we=async()=>{const{data:e}=await H.getModelLimits();ke.value=e.total_score},xe=async e=>{me.value=e,ve.value=!0},be=async()=>{ve.value=!1;const e=me.value;if(me.value=null,A())R.BusWechartForNavigate("/pages/bus/index",{method:"download",url:e});else try{const a=await G.fetchImage(e),t=document.createElement("a");t.href=a,t.download=`image-${Date.now()}.jpg`,t.click(),URL.revokeObjectURL(a)}catch(a){}},Ie=(e,a)=>{re.value=e,ne.value=!0},De=(e,a)=>{G.uploadFile(e).then(e=>{const t=va({diyPromptImg:e,diyPromptText:a,status:"loading",type:"image",addDiyPromptImg:!0});Te.value.push(t)})},Ce=e=>{e&&(ae.value=e,Z.value=!0,ee.value="",M(()=>{te.value&&te.value.focus()}))},_e=()=>{ee.value.trim()&&ae.value&&(ma(null,{img:ae.value.imageUrl,diyPromptText:ee.value,cardData:ae.value}),Z.value=!1,ee.value="",ae.value=null)},Me=()=>{Z.value=!1,ee.value="",ae.value=null},Te=a([]),je=a(0),$e=()=>{Y.replace("/creation-workspace")},Se=a(!0),Ue=e=>{Se.value=e,Re({isHook:e})},Ae=a({}),Re=async(e={})=>{try{const a=await q.getCombinedPrompt(ye.value,e);Ae.value=a}catch(a){}};l(()=>[fe.value,Te.value],()=>{let e={...fe.value};e.details.node_card=Te.value,Oe(e)},{deep:!0});const Ee=e=>{if("string"==typeof e)ue.value=[e];else{if(!Array.isArray(e))return;ue.value=e}pe.value=0,ce.value=!0},Ne=async e=>{const a=await q.getProject(e);fe.value={...a},q.addProjectDuration(a.duration_seconds),Te.value=[...fe.value.details.node_card].map(e=>({...e,id:e.id||Date.now()+Math.random().toString(36).substr(2,9)})),fe.value.tags=[ye.value]},Oe=async e=>{e.duration_seconds=q.duration_seconds,q.updateProject(he.value,e)};const Be=new class{constructor(){this.ANIMATION_DURATION=400,this.OFFSET_MARGIN=30,this.SCREEN_PADDING=50}calculateRightSidePosition(e,a){if(!e)return{x:-100,y:-100};const t=this.parseOffset(e.offsetX),l=this.parseOffset(e.offsetY),o=this.parseCardWidth(e.cardWidth),s=t+o+this.OFFSET_MARGIN+this.SCREEN_PADDING,i=window.innerWidth-o-this.SCREEN_PADDING;return{x:(s>i?this.SCREEN_PADDING:s)-90,y:s>i?l+o+this.OFFSET_MARGIN:l}}parseOffset(e){if("number"==typeof e)return e;if("string"==typeof e){const a=parseFloat(e.replace("px",""));return isNaN(a)?0:a}return 0}parseCardWidth(e){if("number"==typeof e)return e;if("string"==typeof e){const a=parseFloat(e.replace("px",""));return isNaN(a)?250:a}return 250}getAnimationConfig(){return{transition:`transform ${this.ANIMATION_DURATION}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`,willChange:"transform"}}},va=(e,a=null)=>{const t=Date.now()+Math.random().toString(36).substr(2,9);let l=Te.value.reduce((e,a)=>e.zIndex>a.zIndex?e:a,{});const o=l?Be.calculateRightSidePosition(l,ka.value):{x:-100,y:-100};return{...e,id:t,offsetX:`${o.x}px`,offsetY:`${o.y}px`,project_id:he.value,zIndex:0!=je.value?(je.value++,je.value):(je.value=Te.value.reduce((e,a)=>Math.max(e,a.zIndex||0),0)+1,je.value)}},ma=(e,a)=>{const{img:t,diyPromptText:l,imgyt:o,cardData:s}=a,i=va({diyPromptImg:t,diyPromptText:l,status:"loading",imgyt:o||"",type:"image"},e);Te.value.push(i)},ga=async e=>{const{count:a,profile:t,inspirationImage:l,ipType:o,ipTypeImg:s}=e;for(let i=0;i<a;i++){const e=va({imageUrl:null,prompt:t.appearance,inspirationImage:l,ipType:o,ipTypeImg:s,status:"loading",type:"image"});Te.value.push(e)}};a(!1);const ha=a(!1);a(!1),a(null),a(0),a(0),a(0),a(0);const ya=a(0),fa=a(0),ka=a(1);a(new Map),a(0),a(0),a(0),a(1),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(null),t(()=>({transform:`translate(${ya.value}px, ${fa.value}px) scale(${ka.value})`,transformOrigin:"center center",transition:"none"}));const wa=a(!1),xa=a({}),ba=a(!1),Ia=()=>{wa.value=!1,ba.value=!0};t(()=>ha.value?"grabbing":"grab");const Da=t(()=>window.innerWidth<=768),Ca=e=>{(e.ctrlKey||e.metaKey)&&e.target.closest(".floating-sidebar")&&(Da.value||e.preventDefault())},Pa=e=>{e.touches&&e.touches.length>1&&e.target.closest(".floating-sidebar")&&(Da.value||e.preventDefault())},_a=()=>{const e=_();he.value=e.params.id,ye.value=e.params.series,"new"!==he.value?(Ne(he.value),we()):(async()=>{const{id:e}=await q.createProject();await Y.replace(`/project/${e}/${ye.value}`),he.value=e,Ne(e)})()};return g(()=>{X.pollingEnabled=!0,j.pollingEnabled=!0,_a(),Re(),setTimeout(()=>{window.localStorage.getItem("tourFlag")||(F.value.tour1=O?.value?.RechargeRef,F.value.tour2=B?.value?.ipTypeSectionRef,F.value.tour3=B?.value?.textPromptSectionRef,F.value.tour4=B?.value?.referenceImageSectionRef,F.value.tour5=B?.value?.generateButtonRef,de.value=!0,window.localStorage.setItem("tourFlag","1"))},200);const e=Q(document,"wheel",Ca),a=Q(document,"touchstart",Pa),t=Q(document,"touchmove",Pa);ge.value={wheel:e,touchstart:a,touchmove:t}}),w(()=>{X.pollingEnabled=!1,j.pollingEnabled=!1,clearInterval(E.timer),ge.value&&Object.values(ge.value).forEach(e=>{"function"==typeof e&&e()})}),(e,a)=>{const t=x("DtCanvasEditor");return n(),s("div",{class:"main",onContextmenu:a[8]||(a[8]=v(()=>{},["prevent"]))},[r("div",Fe,[r("div",Ge,[r("button",{class:"back-button",onClick:$e,title:e.$t("header.back")},[...a[9]||(a[9]=[r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1)])],8,He)]),r("div",Je,[r("div",Le,[r("div",Qe,[h(f(z),{class:"count-icon"},{default:y(()=>[h(f(J))]),_:1}),r("span",We,d(e.$t("header.remainingCredits"))+": "+d(ke.value),1),r("button",{class:"recharge-btn",onClick:le,title:e.$t("header.recharge")},[r("span",Ke,d(e.$t("header.recharge")),1)],8,Ve)])]),h(S,{position:"top-right"}),h(U,{compact:!1,position:"top-right"})])]),r("div",Xe,[0===Te.value.length?(n(),s("div",Ye,[r("div",qe,[a[14]||(a[14]=m('<div class="empty-state-icon" data-v-69590d44><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-69590d44><circle cx="60" cy="60" r="50" fill="url(#gradient1)" fill-opacity="0.1" data-v-69590d44></circle><circle cx="60" cy="60" r="40" fill="url(#gradient1)" fill-opacity="0.15" data-v-69590d44></circle><circle cx="60" cy="60" r="30" fill="url(#gradient1)" fill-opacity="0.2" data-v-69590d44></circle><path d="M60 35V85M35 60H85" stroke="url(#gradient2)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" data-v-69590d44></path><circle cx="60" cy="60" r="8" fill="url(#gradient2)" data-v-69590d44></circle><defs data-v-69590d44><linearGradient id="gradient1" x1="10" y1="10" x2="110" y2="110" gradientUnits="userSpaceOnUse" data-v-69590d44><stop stop-color="#6B46C1" data-v-69590d44></stop><stop offset="1" stop-color="#A78BFA" data-v-69590d44></stop></linearGradient><linearGradient id="gradient2" x1="35" y1="35" x2="85" y2="85" gradientUnits="userSpaceOnUse" data-v-69590d44><stop stop-color="#6B46C1" data-v-69590d44></stop><stop offset="1" stop-color="#A78BFA" data-v-69590d44></stop></linearGradient></defs></svg></div>',1)),r("div",Ze,d(e.$t("emptyState.aiGenerated")),1),r("h2",ea,d(e.$t("emptyState.title")),1),r("p",aa,d(e.$t("emptyState.description")),1),r("button",{class:"empty-state-button",onClick:oe},[a[10]||(a[10]=r("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)),I(" "+d(e.$t("emptyState.createButton")),1)]),r("div",ta,[r("div",la,[a[11]||(a[11]=r("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("circle",{cx:"12",cy:"12",r:"10"}),r("path",{d:"M12 16v-4M12 8h.01"})],-1)),r("span",null,d(e.$t("emptyState.tip1")),1)]),r("div",oa,[a[12]||(a[12]=r("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})],-1)),r("span",null,d(e.$t("emptyState.tip2")),1)]),r("div",sa,[a[13]||(a[13]=r("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),r("path",{d:"M2 17l10 5 10-5"}),r("path",{d:"M2 12l10 5 10-5"})],-1)),r("span",null,d(e.$t("emptyState.tip3")),1)])])])])):i("",!0),(n(!0),s(D,null,C(Te.value,(e,a)=>(n(),b(ze,{key:e.id,"image-url":e.imageUrl,"card-data":e,series:ye.value,combinedPromptJson:Ae.value,onSaveProject:e=>{((e,a,t="image")=>{let l=Te.value[e];switch(t){case"image":l.imageUrl=a.imageUrl,l.taskId=a.taskId,l.taskQueue=a.taskQueue;break;case"model":l.modelUrl=a.modelUrl,l.taskId=a.taskId,l.resultTask=a.resultTask}l.status=a.status,we()})(a,e,"image")},onCustomizeToHome:e=>(e=>{const a=Te.value[e];xa.value=a,wa.value=!0})(a),onPreview:Ee,onModify:Ce,onEdit:Ie,onDownload:xe,onDelete:e=>(e=>{Te.value.splice(e,1)})(a)},null,8,["image-url","card-data","series","combinedPromptJson","onSaveProject","onCustomizeToHome","onDelete"]))),128))]),r("button",{class:"add-button",onClick:oe,title:e.$t("header.add")},[...a[15]||(a[15]=[r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])],8,ia),h(Pe,{series:ye.value,show:ie.value,onClose:a[0]||(a[0]=e=>ie.value=!1),onGenerate:se,onHandleHookSelected:Ue},null,8,["series","show"]),ba.value?(n(),b(W,{key:0,series:ye.value,show:ba.value,modelData:xa.value,onClose:a[1]||(a[1]=e=>ba.value=!1)},null,8,["series","show","modelData"])):i("",!0),h(V,{series:ye.value,show:wa.value,modelData:xa.value,onClose:a[2]||(a[2]=e=>wa.value=!1),onAcknowledge:Ia},null,8,["series","show","modelData"]),h(t,{language:f(T),visible:ne.value,"onUpdate:visible":a[3]||(a[3]=e=>ne.value=e),"image-url":re.value,onAddPromptCard:De},null,8,["language","visible","image-url"]),h(K,{show:ve.value,onConfirm:be,onCancel:a[4]||(a[4]=e=>ve.value=!1)},null,8,["show"]),Z.value?(n(),s("div",na,[r("div",ra,[r("div",da,[r("div",ca,d(f(c)("modelModal.textInputTitle")),1),r("button",{class:"text-input-close",onClick:Me,"aria-label":"å…³é—­"},[h(f(z),{class:"close-icon"},{default:y(()=>[h(f(L))]),_:1})])]),u(r("textarea",{ref_key:"textInputRef",ref:te,"onUpdate:modelValue":a[5]||(a[5]=e=>ee.value=e),class:"text-input-area",placeholder:f(c)("modelModal.textInputPlaceholder"),rows:"4",onKeydown:[P(v(_e,["ctrl"]),["enter"]),P(Me,["esc"])],onClick:a[6]||(a[6]=v(()=>{},["stop"])),onMousedown:a[7]||(a[7]=v(()=>{},["stop"]))},null,40,ua),[[p,ee.value]]),r("div",pa,[r("button",{class:"text-input-btn cancel-btn",onClick:Me},d(f(c)("common.cancel")),1),r("button",{class:"text-input-btn confirm-btn",onClick:_e},d(f(c)("common.confirm")),1)])])])):i("",!0)],32)}}},[["__scopeId","data-v-69590d44"]]);export{va as default};
