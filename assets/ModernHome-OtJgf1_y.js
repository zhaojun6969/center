import{_ as t,u as a,g as e,l as s}from"./index-C1ozWA1l.js";import{y as i,r as n,z as o,j as l,f as r,U as c,A as u,C as d,B as h,ax as p,c as m,L as f,u as v,R as g,P as V,I as w,J as b,aJ as y,Q as C,a5 as E,aA as F,O as S,D as k,M as A}from"./vendor-p2oL7ibe.js";import{S as _}from"./SeriesSelector-BFGR2JmK.js";import{M as D}from"./index-mtH9PHfe.js";import{s as x}from"./date-CgH6eVIF.js";import{z as N,E as j,h as T,av as P,p as M,v as O,u as z,ac as U,aw as I,af as q,ax as B,f as R,ay as Y,az as G,a0 as L,aA as H,ah as $}from"./elementPlus-MWeHapXo.js";var J=function(){return J=Object.assign||function(t){for(var a,e=1,s=arguments.length;e<s;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t},J.apply(this,arguments)},Q=function(){function t(t,a,e){var s=this;this.endVal=a,this.options=e,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){s.startTime||(s.startTime=t);var a=t-s.startTime;s.remaining=s.duration-a,s.useEasing?s.countDown?s.frameVal=s.startVal-s.easingFn(a,0,s.startVal-s.endVal,s.duration):s.frameVal=s.easingFn(a,s.startVal,s.endVal-s.startVal,s.duration):s.frameVal=s.startVal+(s.endVal-s.startVal)*(a/s.duration);var e=s.countDown?s.frameVal<s.endVal:s.frameVal>s.endVal;s.frameVal=e?s.endVal:s.frameVal,s.frameVal=Number(s.frameVal.toFixed(s.options.decimalPlaces)),s.printValue(s.frameVal),a<s.duration?s.rAF=requestAnimationFrame(s.count):null!==s.finalEndVal?s.update(s.finalEndVal):s.options.onCompleteCallback&&s.options.onCompleteCallback()},this.formatNumber=function(t){var a,e,i,n,o=t<0?"-":"";a=Math.abs(t).toFixed(s.options.decimalPlaces);var l=(a+="").split(".");if(e=l[0],i=l.length>1?s.options.decimal+l[1]:"",s.options.useGrouping){n="";for(var r=3,c=0,u=0,d=e.length;u<d;++u)s.options.useIndianSeparators&&4===u&&(r=2,c=1),0!==u&&c%r==0&&(n=s.options.separator+n),c++,n=e[d-u-1]+n;e=n}return s.options.numerals&&s.options.numerals.length&&(e=e.replace(/[0-9]/g,function(t){return s.options.numerals[+t]}),i=i.replace(/[0-9]/g,function(t){return s.options.numerals[+t]})),o+s.options.prefix+e+i+s.options.suffix},this.easeOutExpo=function(t,a,e,s){return e*(1-Math.pow(2,-10*t/s))*1024/1023+a},this.options=J(J({},this.defaults),e),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error||(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return s.handleScroll(s)}),window.onscroll=function(){window.onScrollFns.forEach(function(t){return t()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var a=window.innerHeight+window.scrollY,e=t.el.getBoundingClientRect(),s=e.top+window.pageYOffset,i=e.top+e.height+window.pageYOffset;i<a&&i>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>i||s>a)&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var a=t-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var e=this.countDown?1:-1;this.endVal=t+e*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var a;if(this.el){var e=this.formattingFn(t);null!==(a=this.options.plugin)&&void 0!==a&&a.render?this.options.plugin.render(this.el,e):"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e}},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var a=Number(t);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const K={class:"countup-wrap"},W=i({name:"CountUp",props:{endVal:{},startVal:{default:0},duration:{default:2.5},decimalPlaces:{default:0},autoplay:{type:Boolean,default:!0},loop:{type:[Boolean,Number],default:!1},delay:{default:0},options:{default:void 0}},emits:["init","finished"],setup(t,{expose:a,emit:e}){const s=t,i=e;let p=n(),m=n(),f=0;const v=n(!1);let g;function V(){if(!p.value)return;f=0,v.value=!1;const t=Number(s.startVal),a=Number(s.endVal),e=Number(s.duration);m.value=new Q(p.value,a,{startVal:t,duration:e,decimalPlaces:s.decimalPlaces,...s.options}),m.value.error||i("init",m.value)}function w(){var t;m.value||V(),null==(t=m.value)||t.start(function(){"boolean"==typeof s.loop&&s.loop||s.loop>f?g=function(t,a=1){const e=n(-1);let s;return e.value=requestAnimationFrame(function i(n){s||(s=n),n-s<1e3*a?e.value=requestAnimationFrame(i):t()}),{cancel:function(){window.cancelAnimationFrame(e.value)}}}(()=>{var t;null==(t=m.value)||t.reset(),w()},s.delay):v.value=!0}),f++}function b(){null==g||g.cancel(),V(),w()}return l([()=>s.startVal,()=>s.endVal],()=>{s.autoplay&&b()}),l(v,t=>{var a;t&&(null!=(a=s.options)&&a.onCompleteCallback&&s.options.onCompleteCallback(),i("finished"))}),r(()=>{V(),s.autoplay&&w()}),c(()=>{var t;null==g||g.cancel(),null==(t=m.value)||t.reset()}),a({init:V,restart:b}),(t,a)=>(u(),o("div",K,[d(t.$slots,"prefix"),h("span",{ref_key:"elRef",ref:p},null,512),d(t.$slots,"suffix")]))}}),X={key:0,class:"modern-home"},Z={class:"welcome-section"},tt={class:"welcome-content"},at={class:"welcome-left"},et={class:"welcome-title"},st={key:0,class:"greeting"},it={key:1,class:"greeting"},nt={class:"welcome-subtitle"},ot={class:"welcome-actions"},lt={key:1,class:"guest-actions"},rt={class:"welcome-right"},ct={class:"welcome-visual"},ut={class:"floating-cards"},dt={class:"welcome-avatar"},ht={class:"guest-login-tip"},pt={class:"stats-section"},mt={class:"stats-container"},ft={class:"stat-content"},vt={class:"stat-value"},gt={class:"stat-unit"},Vt={class:"stat-label"},wt=t({__name:"ModernHome",setup(t){const i=new D,l=()=>{d.value=!1},c=t=>{d.value=!1,(t=>{Q.push(`/project/new/${t.name}`)})(t)},d=n(!1),{t:J}=p(),Q=F(),K=a(),wt={MagicStick:$,Star:H,Clock:L,Document:G,ArrowUp:Y,ArrowDown:R,Minus:B,VideoPlay:q,ChatDotRound:I,Tickets:P,Setting:U,Picture:O,Cpu:M,User:z},bt=m(()=>[{id:"hours",value:x(kt.value.total_duration_seconds),unit:"m",label:J("home.stats.hours"),icon:"Clock",color:"var(--home-stat-color-1)",trend:"down",trendIcon:"ArrowDown",trendValue:"8%"},{id:"projects",value:kt.value.project_count,unit:"",label:J("home.stats.projects"),icon:"Document",color:"var(--home-stat-color-2)",trend:"stable",trendIcon:"Minus",trendValue:"0%"}]),yt=m(()=>K.user),Ct=m(()=>yt.value?.nickname||""),Et=m(()=>yt.value?.avatarUrl||""),Ft=e(),St=t=>{Q.push(t.path)},kt=n({total_duration_seconds:0,project_count:0,agent_count:0});return r(()=>{if(s.shenhe)return void Q.replace("/meditation");e()&&i.getUserStatistics().then(t=>{0===t.code&&(kt.value=t.data)})}),(t,a)=>{const e=N,i=j,n=T;return v(s).shenhe?f("",!0):(u(),o("div",X,[h("section",Z,[h("div",tt,[h("div",at,[a[7]||(a[7]=h("div",{class:"welcome-logo"},[h("img",{src:"https://dcts99982ui0s.cloudfront.net/images/f74ba12f-ac19-4f69-82f3-edaafd978b03.png",alt:"Logo",class:"welcome-logo-image"}),h("div",{class:"logo-glow"})],-1)),h("h1",et,[v(Ft)?(u(),o("span",st,V(v(J)("home.welcome.title",{name:Ct.value})),1)):(u(),o("span",it,V(v(J)("home.welcome.title",{name:v(J)("home.welcome.defaultName")})),1))]),h("p",nt,V(v(J)("home.welcome.greetingMessage")),1),h("div",ot,[v(Ft)?(u(),w(e,{key:0,type:"primary",size:"large",class:"action-btn primary-btn create-btn-large",onClick:a[0]||(a[0]=t=>d.value=!0)},{default:b(()=>[S(V(v(J)("home.welcome.startCreating")),1)]),_:1})):(u(),o("div",lt,[g(e,{type:"primary",size:"large",class:"action-btn primary-btn create-btn-large",onClick:a[1]||(a[1]=t=>St({path:"/login"}))},{default:b(()=>[S(V(v(J)("home.welcome.loginToStart")),1)]),_:1}),g(e,{size:"large",class:"action-btn secondary-btn",onClick:a[2]||(a[2]=t=>St({path:"/register"}))},{default:b(()=>[S(V(v(J)("home.welcome.register")),1)]),_:1})]))])]),h("div",rt,[h("div",ct,[a[8]||(a[8]=y('<div class="animated-bg" data-v-9baed46d><div class="bg-circle circle-1" data-v-9baed46d></div><div class="bg-circle circle-2" data-v-9baed46d></div><div class="bg-circle circle-3" data-v-9baed46d></div><div class="bg-circle circle-4" data-v-9baed46d></div><div class="bg-circle circle-5" data-v-9baed46d></div></div>',1)),h("div",ut,[h("div",{class:"floating-card card-1",onClick:a[3]||(a[3]=t=>St({path:"/order-management"}))},[g(i,null,{default:b(()=>[g(v(P))]),_:1}),h("span",null,V(v(J)("home.floatingCards.orders")),1)]),h("div",{class:"floating-card card-2",onClick:a[4]||(a[4]=t=>St({path:"/agent-management"}))},[g(i,null,{default:b(()=>[g(v(M))]),_:1}),h("span",null,V(v(J)("home.floatingCards.settings")),1)]),h("div",{class:"floating-card card-3",onClick:a[5]||(a[5]=t=>St({path:"/creation-workspace"}))},[g(i,null,{default:b(()=>[g(v(O))]),_:1}),h("span",null,V(v(J)("sidebar.projects")),1)])]),h("div",dt,[v(Ft)?(u(),w(n,{key:0,size:100,src:Et.value},{default:b(()=>[g(i,{size:"50"},{default:b(()=>[g(v(z))]),_:1})]),_:1},8,["src"])):(u(),o("div",{key:1,class:"guest-avatar",onClick:a[6]||(a[6]=t=>St({path:"/login"}))},[g(i,{size:"50"},{default:b(()=>[g(v(z))]),_:1}),h("div",ht,V(v(J)("home.welcome.clickToLogin")),1)]))])])])])]),h("section",pt,[h("div",mt,[(u(!0),o(C,null,E(bt.value,(t,a)=>(u(),o("div",{key:t.id,class:"stat-card",style:k({"--delay":.1*a+"s"})},[h("div",{class:"stat-icon",style:k({"--icon-color":t.color})},[(u(),w(A(wt[t.icon])))],4),h("div",ft,[h("div",vt,[g(v(W),{"end-val":t.value,duration:2},null,8,["end-val"]),h("span",gt,V(t.unit),1)]),h("div",Vt,V(t.label),1)])],4))),128))])]),g(_,{show:v(d),onConfirm:c,onCancel:l},null,8,["show"])]))}}},[["__scopeId","data-v-9baed46d"]]);export{wt as default};
