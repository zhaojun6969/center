import{aB as e,aA as a,r as t,c as l,z as s,A as c,B as i,R as o,J as n,u,aJ as r,P as d,Q as v,a5 as m,E as p,K as h,ai as b,O as g}from"./vendor-p2oL7ibe.js";import{O as f,E as k}from"./elementPlus-DzXnjnIh.js";import{_ as D}from"./index-CqnzwUr8.js";const y={class:"purchase-page"},$={class:"content"},P={class:"right-panel"},q={class:"option-group"},w={class:"label"},S={class:"chip-group"},L=["onClick"],_={class:"option-group quantity"},C={class:"label"},j={class:"qty-row"},x={class:"qty-val"},z={class:"option-group"},M={class:"label"},O=["placeholder"],U={class:"timeline"},A={class:"timeline-title"},B={class:"timeline-hint"},E={class:"actions"},I=D({__name:"ModelPurchase",setup(D){const I=e(),J=a(),R=t(I.query.template||""),T=t(I.query.id||""),K=["3cm","4cm","5cm","6cm","7cm","8cm","10cm"],Q=t(K[0]),V=t({matte:!1,gloss:!1,base:!1}),F=t(1),G=t(I.query.modelUrl||""),H=l(()=>(new Date).toLocaleDateString()),N=l(()=>{const e=new Date;e.setDate(e.getDate()+7);const a=new Date;return a.setDate(a.getDate()+11),`${e.toLocaleDateString()}–${a.toLocaleDateString()}`}),W=l(()=>{const e=new Date;e.setDate(e.getDate()+14);const a=new Date;return a.setDate(a.getDate()+25),`${e.toLocaleDateString()}–${a.toLocaleDateString()}`}),X=()=>{F.value=Math.min(F.value+1,99)},Y=()=>{F.value=Math.max(F.value-1,1)},Z=()=>{const e=new URLSearchParams;R.value&&e.set("template",R.value),T.value&&e.set("ref",`model-${T.value}`),G.value&&e.set("modelLink",G.value),e.set("size",Q.value),e.set("qty",String(F.value));const a=Object.keys(V.value).filter(e=>V.value[e]);a.length&&e.set("addons",a.join(","));const t=`https://tripo3d.myshopify.com/zh/products/custom-resin-3d-printed-figurine?${e.toString()}`;try{navigator.clipboard.writeText(String(T.value||G.value||""))}catch(l){}window.open(t,"_blank")},ee=()=>{J.back()};return(e,a)=>(c(),s("div",y,[i("button",{class:"back-button",onClick:ee,"aria-label":"返回"},[o(u(k),{class:"back-icon"},{default:n(()=>[o(u(f))]),_:1})]),i("div",$,[a[1]||(a[1]=r('<section class="left-panel" data-v-ec5ffa3e><div class="hero" data-v-ec5ffa3e></div><div class="info-block" data-v-ec5ffa3e><h3 class="block-title" data-v-ec5ffa3e>说明</h3><p class="block-text" data-v-ec5ffa3e>为了获得最佳效果，请在右侧填写 Tripo 的模型共享链接或模型 ID。</p></div></section>',1)),i("section",P,[i("div",q,[i("div",w,d(e.$t("checkout.size")),1),i("div",S,[(c(),s(v,null,m(K,e=>i("button",{key:e,class:p(["chip",{active:Q.value===e}]),onClick:a=>Q.value=e},d(e),11,L)),64))])]),i("div",_,[i("div",C,d(e.$t("checkout.quantity")),1),i("div",j,[i("button",{class:"qty-btn",onClick:Y},"−"),i("div",x,d(F.value),1),i("button",{class:"qty-btn",onClick:X},"＋")])]),i("div",z,[i("div",M,d(e.$t("modelPurchase.inputLabel")),1),h(i("input",{class:"input","onUpdate:modelValue":a[0]||(a[0]=e=>G.value=e),placeholder:e.$t("modelPurchase.inputPlaceholder")},null,8,O),[[b,G.value]])]),i("div",U,[i("div",A,d(e.$t("modelPurchase.timeline.title")),1),i("ul",null,[i("li",null,[i("strong",null,d(e.$t("modelPurchase.timeline.orderPlaced")),1),g(" "+d(H.value),1)]),i("li",null,[i("strong",null,d(e.$t("modelPurchase.timeline.orderShipped")),1),g(" "+d(N.value),1)]),i("li",null,[i("strong",null,d(e.$t("modelPurchase.timeline.delivered")),1),g(" "+d(W.value),1)])]),i("div",B,d(e.$t("modelPurchase.timeline.hint")),1)]),i("div",E,[i("button",{class:"buy-btn",onClick:Z},d(e.$t("checkout.buy")),1)])])])]))}},[["__scopeId","data-v-ec5ffa3e"]]);export{I as default};
