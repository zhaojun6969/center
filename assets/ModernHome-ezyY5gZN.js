import{_ as t,u as a,j as e}from"./index-B89rLV4P.js";import{y as s,r as i,z as n,j as o,f as l,U as r,A as c,C as u,B as d,az as h,c as p,L as m,u as f,R as v,P as g,I as V,J as w,aJ as y,Q as b,a5 as C,aA as E,O as S,D as k,M as F}from"./vendor-Bn3bPSOS.js";import{S as A}from"./SeriesSelector-DDtIs02N.js";import{M as _}from"./index-zPRzP-GC.js";import{s as D}from"./date-CgH6eVIF.js";import{t as x,E as N,d as j,at as P,j as T,p as M,u as O,aa as z,au as I,ad as U,av as q,b as Y,aw as B,ax as R,Y as G,ay as L,af as H}from"./elementPlus-DTQfcfg-.js";var $=function(){return $=Object.assign||function(t){for(var a,e=1,s=arguments.length;e<s;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t},$.apply(this,arguments)},J=function(){function t(t,a,e){var s=this;this.endVal=a,this.options=e,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){s.startTime||(s.startTime=t);var a=t-s.startTime;s.remaining=s.duration-a,s.useEasing?s.countDown?s.frameVal=s.startVal-s.easingFn(a,0,s.startVal-s.endVal,s.duration):s.frameVal=s.easingFn(a,s.startVal,s.endVal-s.startVal,s.duration):s.frameVal=s.startVal+(s.endVal-s.startVal)*(a/s.duration);var e=s.countDown?s.frameVal<s.endVal:s.frameVal>s.endVal;s.frameVal=e?s.endVal:s.frameVal,s.frameVal=Number(s.frameVal.toFixed(s.options.decimalPlaces)),s.printValue(s.frameVal),a<s.duration?s.rAF=requestAnimationFrame(s.count):null!==s.finalEndVal?s.update(s.finalEndVal):s.options.onCompleteCallback&&s.options.onCompleteCallback()},this.formatNumber=function(t){var a,e,i,n,o=t<0?"-":"";a=Math.abs(t).toFixed(s.options.decimalPlaces);var l=(a+="").split(".");if(e=l[0],i=l.length>1?s.options.decimal+l[1]:"",s.options.useGrouping){n="";for(var r=3,c=0,u=0,d=e.length;u<d;++u)s.options.useIndianSeparators&&4===u&&(r=2,c=1),0!==u&&c%r==0&&(n=s.options.separator+n),c++,n=e[d-u-1]+n;e=n}return s.options.numerals&&s.options.numerals.length&&(e=e.replace(/[0-9]/g,function(t){return s.options.numerals[+t]}),i=i.replace(/[0-9]/g,function(t){return s.options.numerals[+t]})),o+s.options.prefix+e+i+s.options.suffix},this.easeOutExpo=function(t,a,e,s){return e*(1-Math.pow(2,-10*t/s))*1024/1023+a},this.options=$($({},this.defaults),e),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error||(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return s.handleScroll(s)}),window.onscroll=function(){window.onScrollFns.forEach(function(t){return t()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var a=window.innerHeight+window.scrollY,e=t.el.getBoundingClientRect(),s=e.top+window.pageYOffset,i=e.top+e.height+window.pageYOffset;i<a&&i>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>i||s>a)&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var a=t-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var e=this.countDown?1:-1;this.endVal=t+e*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var a;if(this.el){var e=this.formattingFn(t);null!==(a=this.options.plugin)&&void 0!==a&&a.render?this.options.plugin.render(this.el,e):"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e}},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var a=Number(t);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const Q={class:"countup-wrap"},K=s({name:"CountUp",props:{endVal:{},startVal:{default:0},duration:{default:2.5},decimalPlaces:{default:0},autoplay:{type:Boolean,default:!0},loop:{type:[Boolean,Number],default:!1},delay:{default:0},options:{default:void 0}},emits:["init","finished"],setup(t,{expose:a,emit:e}){const s=t,h=e;let p=i(),m=i(),f=0;const v=i(!1);let g;function V(){if(!p.value)return;f=0,v.value=!1;const t=Number(s.startVal),a=Number(s.endVal),e=Number(s.duration);m.value=new J(p.value,a,{startVal:t,duration:e,decimalPlaces:s.decimalPlaces,...s.options}),m.value.error||h("init",m.value)}function w(){var t;m.value||V(),null==(t=m.value)||t.start(function(){"boolean"==typeof s.loop&&s.loop||s.loop>f?g=function(t,a=1){const e=i(-1);let s;return e.value=requestAnimationFrame(function i(n){s||(s=n),n-s<1e3*a?e.value=requestAnimationFrame(i):t()}),{cancel:function(){window.cancelAnimationFrame(e.value)}}}(()=>{var t;null==(t=m.value)||t.reset(),w()},s.delay):v.value=!0}),f++}function y(){null==g||g.cancel(),V(),w()}return o([()=>s.startVal,()=>s.endVal],()=>{s.autoplay&&y()}),o(v,t=>{var a;t&&(null!=(a=s.options)&&a.onCompleteCallback&&s.options.onCompleteCallback(),h("finished"))}),l(()=>{V(),s.autoplay&&w()}),r(()=>{var t;null==g||g.cancel(),null==(t=m.value)||t.reset()}),a({init:V,restart:y}),(t,a)=>(c(),n("div",Q,[u(t.$slots,"prefix"),d("span",{ref_key:"elRef",ref:p},null,512),u(t.$slots,"suffix")]))}}),W={key:0,class:"modern-home"},X={class:"welcome-section"},Z={class:"welcome-content"},tt={class:"welcome-left"},at={class:"welcome-title"},et={key:0,class:"greeting"},st={key:1,class:"greeting"},it={class:"welcome-subtitle"},nt={class:"welcome-actions"},ot={key:1,class:"guest-actions"},lt={class:"welcome-right"},rt={class:"welcome-visual"},ct={class:"floating-cards"},ut={class:"welcome-avatar"},dt={class:"guest-login-tip"},ht={class:"stats-section"},pt={class:"stats-container"},mt={class:"stat-content"},ft={class:"stat-value"},vt={class:"stat-unit"},gt={class:"stat-label"},Vt=t({__name:"ModernHome",setup(t){const s=new _,o=()=>{u.value=!1},r=t=>{u.value=!1,(t=>{J.push(`/project/new/${t.name}`)})(t)},u=i(!1),{t:$}=h(),J=E(),Q=a(),Vt={MagicStick:H,Star:L,Clock:G,Document:R,ArrowUp:B,ArrowDown:Y,Minus:q,VideoPlay:U,ChatDotRound:I,Tickets:P,Setting:z,Picture:M,Cpu:T,User:O},wt=p(()=>[{id:"hours",value:D(kt.value.total_duration_seconds),unit:"m",label:$("home.stats.hours"),icon:"Clock",color:"var(--home-stat-color-1)",trend:"down",trendIcon:"ArrowDown",trendValue:"8%"},{id:"projects",value:kt.value.project_count,unit:"",label:$("home.stats.projects"),icon:"Document",color:"var(--home-stat-color-2)",trend:"stable",trendIcon:"Minus",trendValue:"0%"}]),yt=p(()=>Q.user),bt=p(()=>yt.value?.nickname||""),Ct=p(()=>yt.value?.avatarUrl||""),Et=p(()=>Q.token),St=t=>{J.push(t.path)},kt=i({total_duration_seconds:0,project_count:0,agent_count:0});return l(()=>{if(e.shenhe)return void J.replace("/meditation");window.localStorage.getItem("token")&&s.getUserStatistics().then(t=>{0===t.code&&(kt.value=t.data)})}),(t,a)=>{const s=x,i=N,l=j;return f(e).shenhe?m("",!0):(c(),n("div",W,[d("section",X,[d("div",Z,[d("div",tt,[a[7]||(a[7]=d("div",{class:"welcome-logo"},[d("img",{src:"https://draft-user.s3.us-east-2.amazonaws.com/images/353c3066-f894-4937-8eb7-cd2eb634c4d7.webp",alt:"Logo",class:"welcome-logo-image"}),d("div",{class:"logo-glow"})],-1)),d("h1",at,[Et.value?(c(),n("span",et,g(f($)("home.welcome.title",{name:bt.value})),1)):(c(),n("span",st,g(f($)("home.welcome.title",{name:f($)("home.welcome.defaultName")})),1))]),d("p",it,g(f($)("home.welcome.greetingMessage")),1),d("div",nt,[Et.value?(c(),V(s,{key:0,type:"primary",size:"large",class:"action-btn primary-btn create-btn-large",onClick:a[0]||(a[0]=t=>u.value=!0)},{default:w(()=>[S(g(f($)("home.welcome.startCreating")),1)]),_:1})):(c(),n("div",ot,[v(s,{type:"primary",size:"large",class:"action-btn primary-btn create-btn-large",onClick:a[1]||(a[1]=t=>St({path:"/login"}))},{default:w(()=>[S(g(f($)("home.welcome.loginToStart")),1)]),_:1}),v(s,{size:"large",class:"action-btn secondary-btn",onClick:a[2]||(a[2]=t=>St({path:"/register"}))},{default:w(()=>[S(g(f($)("home.welcome.register")),1)]),_:1})]))])]),d("div",lt,[d("div",rt,[a[8]||(a[8]=y('<div class="animated-bg" data-v-53ff8c7d><div class="bg-circle circle-1" data-v-53ff8c7d></div><div class="bg-circle circle-2" data-v-53ff8c7d></div><div class="bg-circle circle-3" data-v-53ff8c7d></div><div class="bg-circle circle-4" data-v-53ff8c7d></div><div class="bg-circle circle-5" data-v-53ff8c7d></div></div>',1)),d("div",ct,[d("div",{class:"floating-card card-1",onClick:a[3]||(a[3]=t=>St({path:"/order-management"}))},[v(i,null,{default:w(()=>[v(f(P))]),_:1}),d("span",null,g(f($)("home.floatingCards.orders")),1)]),d("div",{class:"floating-card card-2",onClick:a[4]||(a[4]=t=>St({path:"/agent-management"}))},[v(i,null,{default:w(()=>[v(f(T))]),_:1}),d("span",null,g(f($)("home.floatingCards.settings")),1)]),d("div",{class:"floating-card card-3",onClick:a[5]||(a[5]=t=>St({path:"/creation-workspace"}))},[v(i,null,{default:w(()=>[v(f(M))]),_:1}),d("span",null,g(f($)("sidebar.projects")),1)])]),d("div",ut,[Et.value?(c(),V(l,{key:0,size:100,src:Ct.value},{default:w(()=>[v(i,{size:"50"},{default:w(()=>[v(f(O))]),_:1})]),_:1},8,["src"])):(c(),n("div",{key:1,class:"guest-avatar",onClick:a[6]||(a[6]=t=>St({path:"/login"}))},[v(i,{size:"50"},{default:w(()=>[v(f(O))]),_:1}),d("div",dt,g(f($)("home.welcome.clickToLogin")),1)]))])])])])]),d("section",ht,[d("div",pt,[(c(!0),n(b,null,C(wt.value,(t,a)=>(c(),n("div",{key:t.id,class:"stat-card",style:k({"--delay":.1*a+"s"})},[d("div",{class:"stat-icon",style:k({"--icon-color":t.color})},[(c(),V(F(Vt[t.icon])))],4),d("div",mt,[d("div",ft,[v(f(K),{"end-val":t.value,duration:2},null,8,["end-val"]),d("span",vt,g(t.unit),1)]),d("div",gt,g(t.label),1)])],4))),128))])]),v(A,{show:f(u),onConfirm:r,onCancel:o},null,8,["show"])]))}}},[["__scopeId","data-v-53ff8c7d"]]);export{Vt as default};
