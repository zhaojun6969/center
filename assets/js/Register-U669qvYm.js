import{_ as s,u as t,T as e,a as r,R as o}from"./index-7lN_iYAB.js";import{az as a,r as i,f as l,aB as n,aA as c,z as g,B as u,R as d,u as p,L as m,O as v,J as _,P as h,A as b}from"./vendor-zwaLhAD5.js";import{E as k,O as f,x}from"./elementPlus-CAPqDV7g.js";import"./utils-D5HVl94d.js";const y={class:"register-page"},C={class:"top-right-controls"},q={class:"controls-container"},j={class:"register-container"},A={class:"register-card"},R={class:"back-to-login"},z={class:"register-header"},B={class:"register-title"},E={class:"register-subtitle"},O={class:"register-form-section"},P={class:"login-prompt"},w={class:"prompt-text"},I={key:0,class:"error-message"},J=s({__name:"Register",setup(s){const J=c(),L=n(),S=t(),{t:T}=a(),D=i("");l(()=>{const s=L.query.inviteCode;s&&(D.value=s)});const F=s=>{const t=L.query;J.replace({name:"login",query:t})},G=s=>{console.error("注册失败:",s)},H=()=>{const s=L.query;J.replace({name:"login",query:s})};return l(()=>{S.isAuthenticated&&(S.isCreator?J.push("/creator"):S.isAdmin?J.push("/admin"):J.push("/dashboard"))}),(s,t)=>{const a=k;return b(),g("div",y,[t[0]||(t[0]=u("div",{class:"register-background"},null,-1)),u("div",C,[u("div",q,[d(e,{position:"top-right","tooltip-text":p(T)("register.theme_toggle_tooltip")},null,8,["tooltip-text"]),d(r,{position:"top-right","tooltip-text":p(T)("register.language_toggle_tooltip")},null,8,["tooltip-text"])])]),u("div",j,[u("div",A,[u("div",R,[u("button",{onClick:H,class:"back-link"},[d(a,{class:"back-icon"},{default:_(()=>[d(p(f))]),_:1}),v(" "+h(p(T)("register.back_to_login")),1)])]),u("div",z,[u("h1",B,h(p(T)("register.title")),1),u("p",E,h(p(T)("register.subtitle")),1)]),u("div",O,[d(o,{onSuccess:F,onError:G,loading:p(S).loading,inviteCode:D.value},null,8,["loading","inviteCode"])]),u("div",P,[u("span",w,h(p(T)("register.has_account")),1),u("button",{onClick:H,class:"login-link"},h(p(T)("register.login_now")),1)]),p(S).error?(b(),g("div",I,[d(a,{class:"error-icon"},{default:_(()=>[d(p(x))]),_:1}),u("span",null,h(p(S).error),1)])):m("",!0)])])])}}},[["__scopeId","data-v-b492965e"]]);export{J as default};
