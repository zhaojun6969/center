import{az as s,r as e,j as t,U as a,z as o,B as l,P as c,u as r,D as i,Q as n,a5 as d,aA as u,A as p,E as g,O as v,L as h}from"./vendor-ClluBQmh.js";import{_ as k,l as m,e as w}from"./index-B4iIxVom.js";import{S as f}from"./index-7vXv9XNO.js";import"./elementPlus-5sGCOaHt.js";import"./utils-D5ZNaMwG.js";const y={class:"shop-container"},C={class:"shop-header"},b={class:"shop-title"},x={class:"shop-subtitle"},j={class:"carousel-section"},L={class:"carousel-container"},B=["onClick"],M={class:"carousel-content"},z={class:"carousel-image"},D=["src","alt"],N={class:"carousel-info"},I={class:"carousel-title"},$={class:"carousel-desc"},_={class:"carousel-price"},q={class:"carousel-dots"},A=["onClick"],F={class:"categories-section"},R={class:"category-header"},T={class:"category-title"},E=["onClick"],G={class:"products-grid"},H=["onClick"],P={class:"product-image"},S=["src","alt"],U={key:0,class:"product-badge"},V={class:"product-info"},O={class:"product-name"},Q={class:"product-desc"},X={class:"product-footer"},J={class:"product-price"},K=k({__name:"index",setup(k){const K=u(),{t:W}=s(),Y=m(),Z=new f,ss=e(0);let es=null;const ts=e([]),as=e([]),os=async(s,e)=>{try{const t=await Z.getGoodsList({categoryId:s,pageSize:4,pageNum:1});console.log("Goods List Response for category",s,":",t),t&&t.success&&t.data&&t.data.rows&&(e.products=t.data.rows)}catch(t){console.error("Failed to fetch goods list:",t)}},ls=()=>{ss.value=(ss.value+1)%ts.value.length},cs=()=>{ss.value=(ss.value-1+ts.value.length)%ts.value.length},rs=s=>{K.push(`/shop/detail/${s}`)},is=()=>{K.replace("/czhome")},ns=()=>{const s="zh"===Y.lang?"en":"zh";Y.switchLanguage(s)};return t(()=>{es=setInterval(()=>{ls()},5e3),(async()=>{try{const s=await Z.getBannerList();console.log("Banner List Response:",s),s&&s.success&&s.data&&(ts.value=s.data.map(s=>({id:s.id,linkTarget:s.linkTarget,title:s.bannerName,description:s.description,image:s.imageUrl,price:s.styleConfig?.price||""})))}catch(s){console.error("Failed to fetch banner list:",s)}})(),(async()=>{try{const s=await Z.getCategoryList();if(console.log("Category List Response:",s),s&&s.success&&s.data){as.value=s.data;for(const s of as.value)await os(s.id,s)}}catch(s){console.error("Failed to fetch category list:",s)}})()}),a(()=>{es&&(clearInterval(es),es=null)}),(s,e)=>(p(),o("div",y,[l("div",C,[l("button",{class:"back-btn",onClick:is},[...e[0]||(e[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})],-1)])]),l("button",{class:"language-toggle-btn",onClick:ns},c("zh"===r(Y).lang?"EN":"中"),1),l("h1",b,c(r(W)("shop.title")),1),l("p",x,c(r(W)("shop.subtitle")),1)]),l("div",j,[l("div",L,[l("div",{class:"carousel-track",style:i({transform:`translateX(-${100*ss.value}%)`})},[(p(!0),o(n,null,d(ts.value,(s,e)=>(p(),o("div",{key:e,class:"carousel-slide",onClick:e=>rs(s.linkTarget)},[l("div",M,[l("div",z,[l("img",{src:s.image,alt:s.title},null,8,D)]),l("div",N,[l("h2",I,c(s.title),1),l("p",$,c(s.description),1),l("div",_,c(r(w).isDomesticDomain()?"¥":"$")+c(s.price),1)])])],8,B))),128))],4),l("button",{class:"carousel-btn prev",onClick:cs},[...e[1]||(e[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[l("path",{"stroke-linecap":"square","stroke-linejoin":"miter",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)])]),l("button",{class:"carousel-btn next",onClick:ls},[...e[2]||(e[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[l("path",{"stroke-linecap":"square","stroke-linejoin":"miter",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1)])]),l("div",q,[(p(!0),o(n,null,d(ts.value,(s,e)=>(p(),o("span",{key:e,class:g(["dot",{active:e===ss.value}]),onClick:s=>(s=>{ss.value=s})(e)},null,10,A))),128))])])]),l("div",F,[(p(!0),o(n,null,d(as.value,s=>(p(),o("div",{key:s.id,class:"category-block"},[l("div",R,[l("h2",T,c(s.categoryName),1),l("button",{class:"view-all-btn",onClick:e=>{return t=s.id,void K.push(`/shop/good/${t}`);var t}},[v(c(r(W)("shop.viewAll"))+" ",1),e[3]||(e[3]=l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[l("path",{"stroke-linecap":"square","stroke-linejoin":"miter",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})],-1))],8,E)]),l("div",G,[(p(!0),o(n,null,d(s.products,s=>(p(),o("div",{key:s.id,class:"product-card",onClick:e=>rs(s.id)},[l("div",P,[l("img",{src:s.mainImage,alt:s.goodsName},null,8,S),s.tags.length>0?(p(),o("div",U,c(s.tags[0]),1)):h("",!0)]),l("div",V,[l("h3",O,c(s.goodsName),1),l("p",Q,c(s.shortDesc),1),l("div",X,[l("span",J,c(r(w).isDomesticDomain()?"¥":"$")+c(s.price),1),e[4]||(e[4]=l("button",{class:"add-cart-btn"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[l("path",{"stroke-linecap":"square","stroke-linejoin":"miter",d:"M12 4.5v15m7.5-7.5h-15"})])],-1))])])],8,H))),128))])]))),128))])]))}},[["__scopeId","data-v-6e95f843"]]);export{K as default};
