import{az as e,aB as a,r as t,c as s,f as r,z as n,B as o,P as l,u as c,aA as i,A as m}from"./vendor-C2S3nqiJ.js";import{_ as d,d as u,r as v}from"./index-7JqqWDD-.js";import"./elementPlus-Dhv4F-aG.js";import"./utils-uaInoSqn.js";const g={class:"agreement-page"},p={class:"content-container"},y={key:0,class:"loading-container"},f={class:"loading-text"},A={key:1,class:"error-container"},_={class:"error-text"},j=["innerHTML"],k=d({__name:"agreement",setup(d){i();const{t:k}=e(),x=a().params.type,h=t(""),P=t(!1),b=t("");s(()=>({"user-agreement":k("agreement.userAgreement"),"privacy-policy":k("agreement.privacyPolicy"),"terms-of-service":k("agreement.termsOfService")}[x]||k("agreement.title")));const z=async()=>{P.value=!0,b.value="";try{const e={method:u.getAgreement.method,url:u.getAgreement.url.replace("{type}",x)},a=await v.common(e);0===a.code&&a.success?h.value=a.data.content:b.value=a.message||k("agreement.loadFailed")}catch(e){b.value=k("agreement.loadFailed"),console.error("获取协议失败:",e)}finally{P.value=!1}};return r(()=>{z()}),(e,a)=>(m(),n("div",g,[o("div",p,[P.value?(m(),n("div",y,[a[0]||(a[0]=o("div",{class:"loading-spinner"},null,-1)),o("p",f,l(c(k)("common.loading")),1)])):b.value?(m(),n("div",A,[a[1]||(a[1]=o("div",{class:"error-icon"},"⚠️",-1)),o("p",_,l(b.value),1),o("button",{class:"retry-button",onClick:z},l(c(k)("common.retry")),1)])):(m(),n("div",{key:2,class:"agreement-content",innerHTML:h.value},null,8,j))])]))}},[["__scopeId","data-v-64a5ca7f"]]);export{k as default};
