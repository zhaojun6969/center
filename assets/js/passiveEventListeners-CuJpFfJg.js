import{F as e,c as a,d as l,r as t,_ as s,q as o,i as c,g as i,W as n}from"./index-BrLNRVYc.js";/* empty css                     *//* empty css                    *//* empty css                 */import{az as r,r as u,c as d,f as m,U as v,j as p,z as h,A as g,B as y,P as k,R as f,J as C,O as b,I as N,L as _,u as w,aA as $,Q as S,a5 as P,E as I,W as V,M as x,aD as D}from"./vendor-zwaLhAD5.js";import{F as M,E as j,aK as A,d as U,aL as T,aD as E,I as H,a as O,b as J,Q as L,ae as F,aj as G,al as z,n as Q,V as R,az as q,W as B,ab as X,t as K,Z,au as W}from"./elementPlus-C3N3Ediy.js";import{P as Y}from"./payserver-DxtJWP04.js";/* empty css                                                                          */import{S as ee,C as ae}from"./state-BZyqW-14.js";import{G as le}from"./index-DcnNDhno.js";var te={};class se extends e{RULE=(()=>"undefined"!=typeof window?"client":"undefined"!=typeof process?te.VITE_PROJECTTYPE:void 0)();static taskQueue=new Map;static MAX_CONCURRENT_TASKS=10;static pollingEnabled=!0;constructor(){super()}async createModelTask(e={},s,o,c={}){if(se.taskQueue.size>=se.MAX_CONCURRENT_TASKS)return window.setElMessage({type:"warning",message:"Concurrent limit reached"}),o&&o("Concurrent limit reached"),Promise.reject("Concurrent limit reached");const i=(new Date).getTime();se.taskQueue.set(i,i);try{let o={project_id:e.project_id,payload:{image_url:"",ai_model:"latest",enable_pbr:!1,should_remesh:!1,should_texture:!1,save_pre_remeshed_model:!0,...c}},n=-1!==e.image_url.indexOf("https://api.deotaland.ai")?e.image_url:await this.uploadFile(e.image_url);o.payload.image_url=n;const r="admin"==this.RULE?a.IMAGE_TO_3DADMIN:l.IMAGE_TO_3D,u=await t.common(r,o);console.log("åˆ›å»ºæ¨¡åž‹ä»»åŠ¡å“åº”:",u),0==u.code&&s&&s(u?.data?.id,i)}catch(n){throw console.error("åˆ›å»ºæ¨¡åž‹ä»»åŠ¡å¤±è´¥:",n),o&&o(n),n}}static demoNum=0;async getModelTaskStatus(e,s,o,c){const i=e.result,n=e.resultTask;se.taskQueue.has(n)||se.taskQueue.set(n,n);try{const e={url:"admin"==this.RULE?a.FIND_TASK_IDADMIN.url.replace("TASKID",i):l.FIND_TASK_ID.url.replace("TASKID",i),method:"admin"==this.RULE?a.FIND_TASK_IDADMIN.method:l.FIND_TASK_ID.method};let r=await t.common(e,{});if(0==r.code){let e=r?.data?.result||{},a=r?.data.status;switch(a){case 1:let a=e.s3_glb_url;n&&se.taskQueue.delete(n),s&&s(a);break;case 2:case 3:o&&o(),n&&se.taskQueue.delete(n);break;default:if(!se.pollingEnabled)return;await new Promise(e=>setTimeout(e,3e3)),c&&c(e.progress||0),this.getModelTaskStatus({result:i,resultTask:n},s,o,c)}}}catch(r){throw n&&se.taskQueue.delete(n),o&&o(r),r}}}const oe={class:"stripe-payment-form"},ce={class:"payment-info"},ie={class:"order-summary"},ne={class:"summary-items"},re={class:"summary-item"},ue={class:"summary-item"},de={class:"summary-item"},me={class:"summary-item total"},ve={class:"payment-actions"},pe={class:"security-notice"},he=s({__name:"StripePaymentForm",props:{amount:{type:Number,required:!0},currency:{type:String,default:"usd"},orderId:{type:String,required:!0},customerEmail:{type:String,default:""}},emits:["payment-success","payment-error","cancel"],setup(e,{emit:a}){const{t:l}=r(),t=e,s=a,o=u(null),c=u(null),i=u(!1);u(!1);const n=u(""),$=u(""),S=u(""),P=u(0),I=u(0),V=u(0),x=u(!1),D=d(()=>!i.value),E=d(()=>t.amount+I.value+V.value-P.value),H=new Y,O=()=>{I.value=Math.round(.08*t.amount),V.value=t.amount>=9900?0:1e3},J=async()=>{if(!o.value)return void U.error(l("payment.stripeNotInitialized"));i.value=!0;const e=T.service({lock:!0,text:l("payment.processing"),background:"rgba(0, 0, 0, 0.7)"});try{const{paymentIntent:e}=await H.confirmPaymentIntent(o.value,t.customerEmail);"succeeded"===e.status&&(U.success(l("payment.success")),s("payment-success",{paymentIntent:e}))}catch(a){console.error("Payment error:",a),U.error(a.message||l("payment.failure")),s("payment-error",a)}finally{i.value=!1,e.close()}},L=()=>{s("cancel")};return m(()=>{(async()=>{if(!x.value)try{const e=await H.createPaymentIntent(E.value,t.currency,{order_id:t.orderId,customer_email:t.customerEmail});o.value=e.element,c.value=e.cardElement,x.value=!0,c.value.on("change",({error:e})=>{document.getElementById("card-errors").textContent=e?e.message:""}),setTimeout(()=>{document.getElementById("card-element")&&c.value&&c.value.mount("#card-element")},100)}catch(e){console.error("Error initializing Stripe:",e),U.error(l("payment.initializationError"))}})(),O()}),v(()=>{c.value&&(c.value.destroy(),c.value=null),o.value&&(o.value=null),x.value=!1}),p(()=>t.amount,()=>{O(),P.value=0,n.value="",$.value="",S.value=""}),(a,l)=>{const t=M,s=j;return g(),h("div",oe,[l[1]||(l[1]=y("div",{id:"card-element",class:"stripe-element"},null,-1)),l[2]||(l[2]=y("div",{id:"card-errors",class:"stripe-errors",role:"alert"},null,-1)),y("div",ce,[y("div",ie,[y("h4",null,k(a.$t("payment.orderSummary")),1),y("div",ne,[y("div",re,[y("span",null,k(a.$t("payment.subtotal")),1),y("span",null,"$"+k((e.amount/100).toFixed(2)),1)]),y("div",ue,[y("span",null,k(a.$t("payment.tax")),1),y("span",null,"$"+k((I.value/100).toFixed(2)),1)]),y("div",de,[y("span",null,k(a.$t("payment.shipping")),1),y("span",null,k(V.value>0?`$${(V.value/100).toFixed(2)}`:a.$t("payment.free")),1)]),l[0]||(l[0]=y("div",{class:"summary-divider"},null,-1)),y("div",me,[y("span",null,k(a.$t("payment.total")),1),y("span",null,"$"+k(((e.amount+I.value+V.value)/100).toFixed(2)),1)])])])]),y("div",ve,[f(t,{onClick:L,size:"large",disabled:i.value},{default:C(()=>[b(k(a.$t("common.cancel")),1)]),_:1},8,["disabled"]),f(t,{type:"primary",size:"large",onClick:J,loading:i.value,disabled:!D.value},{default:C(()=>[i.value?_("",!0):(g(),N(s,{key:0},{default:C(()=>[f(w(A))]),_:1})),b(" "+k(a.$t("payment.payNow"))+" $"+k(((e.amount+I.value+V.value-P.value)/100).toFixed(2)),1)]),_:1},8,["loading","disabled"])]),y("div",pe,[f(s,null,{default:C(()=>[f(w(A))]),_:1}),y("span",null,k(a.$t("payment.securityNotice")),1)])])}}},[["__scopeId","data-v-ce4cbd05"]]);let ge=class{constructor(){}async getShopList(){return await t.common(l.getNearbyShops)}};const ye={key:0,class:"paying-overlay"},ke={class:"blog-layout"},fe={class:"hero-section"},Ce={class:"hero-image"},be=["src"],Ne={class:"product-info"},_e={class:"product-title"},we={class:"price-info"},$e={class:"price"},Se={class:"content-sections"},Pe={class:"main-content"},Ie={class:"content-block"},Ve={class:"block-title"},xe={class:"config-grid"},De={class:"config-item quantity"},Me={class:"label"},je={class:"qty-container"},Ae={class:"qty-val"},Ue={class:"config-item ip-name"},Te={class:"label"},Ee={key:0,class:"ip-name-hint"},He={class:"config-item shop-select"},Oe={class:"label"},Je={key:0,class:"content-block greeting-card-block"},Le={class:"block-title greeting-card-title"},Fe={class:"greeting-card-section"},Ge={key:0,class:"loading-greeting-cards"},ze={key:1,class:"no-greeting-cards"},Qe={key:0,class:"heka qrjzt"},Re=["src"],qe={key:1,class:"greeting-card-prefix-placeholder"},Be={class:"greeting-card-option-content"},Xe=["src","alt"],Ke={class:"greeting-card-info"},Ze={class:"greeting-card-message qrjzt"},We={key:3,class:"greeting-card-preview"},Ye={class:"preview-card"},ea={class:"preview-message qrjzt"},aa={class:"content-block"},la={class:"block-title"},ta={class:"voucher-section"},sa={key:0,class:"loading-vouchers"},oa={key:1,class:"no-vouchers"},ca={key:2,class:"voucher-list"},ia=["onClick"],na={class:"voucher-left"},ra={class:"voucher-amount"},ua={class:"voucher-code"},da={class:"voucher-right"},ma={class:"voucher-desc"},va={class:"voucher-min"},pa={class:"voucher-expire"},ha={class:"voucher-check"},ga={key:0,class:"check-icon"},ya={key:1,class:"info-row"},ka={class:"info-column"},fa={class:"block-title"},Ca={class:"process"},ba={class:"process-title"},Na={class:"process-list"},_a={key:0,class:"info-column"},wa={class:"block-title"},$a={class:"form-row"},Sa={class:"form-row"},Pa={class:"form-row"},Ia={class:"form-row"},Va={class:"form-row"},xa={class:"form-row"},Da={class:"form-row"},Ma={class:"action-area"},ja=["disabled"],Aa=s({__name:"index",props:{modelData:{type:Object,default:()=>({})},show:{type:Boolean,default:!1},series:{type:String,default:""}},emits:["close"],setup(e,{emit:a}){const s=$(),v=new Y,x=new ge,D=new le,A=e,U=a,T=()=>U("close"),R=u(1),q=u("doll"),B=u({emailOrPhone:"",subscribe:!1}),X=u("US"),K=u({country:X.value,firstName:"",lastName:"",postalCode:"",state:"",city:"",address1:"",address2:"",phone:"",saveInfo:!1}),Z=u([]),W=u([]),te=u(!1),{locale:se}=r(),oe=u(!1),ce=u([]),ie=u(null),ne=u(!1),re=u(0),ue=u([]),de=u(null),me=u(!1),ve=d(()=>Ha.value*R.value-re.value),pe=u([]),Aa=u(null),Ua=u(!1),Ta=d(()=>!(K.value.firstName.trim()&&K.value.lastName.trim()&&K.value.state.trim()&&K.value.city.trim()&&K.value.address1.trim()&&K.value.phone.trim()&&q.value.trim())),Ea=u(""),Ha=u(0),Oa=u(""),Ja=()=>{s.push("/greeting-card")},La=()=>{let e={currency:Ea.value,amount:Ha.value};ie.value?e.coupon_ids=[ie.value.id]:e.coupon_ids=[],t.common(l.calculateUnitAmount,e).then(e=>{const a=e.data;re.value=a.discount_amount||0})},Fa=e=>{if(!e)return"";const a=new Date(e);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`},Ga=()=>{R.value=Math.min(R.value+1,99)},za=()=>{R.value=Math.max(R.value-1,1)},Qa=()=>{const e={imageUrl:A.modelData.imageUrl,modelUrl:A.modelData.modelUrl,projectId:A.modelData.projectId},a={series:A.series,quantity:R.value,ipName:q.value,contact:{emailOrPhone:B.value.emailOrPhone},shipping:{country:K.value.country,countryLabel:Z.value.find(e=>e.value===K.value.country)?.label||K.value.country,firstName:K.value.firstName,lastName:K.value.lastName,postalCode:K.value.postalCode,state:K.value.state,stateLabel:W.value.find(e=>e.value===K.value.state)?.label||K.value.state,city:K.value.city,address1:K.value.address1,address2:K.value.address2,phone:K.value.phone},modelData:e,greetingCard:de.value};let l={quantity:R.value,project_id:A.modelData.project_id,project_details:e,order_info:a};if(ie.value?l.coupon_ids=[ie.value.id]:l.coupon_ids=[],Aa.value&&(l.shop_id=Aa.value.id),oe.value=!0,setTimeout(()=>{oe.value=!1},5e3),Ra(),l.product_id=Oa.value,l.amount=ve.value.toFixed(2),c()){const e=i();return console.log(l,"params"),void n.BusWechartForNavigate("/pages/pay/pay",{method:"pay",payData:JSON.stringify({...l,token:e})})}v.createPayorOrder(l)},Ra=()=>{try{K.value.saveInfo&&localStorage.setItem("purchase_shipping",JSON.stringify(K.value)),localStorage.setItem("purchase_contact",JSON.stringify(B.value))}catch(e){}},qa=(e,a)=>{try{return new Intl.DisplayNames([se.value],{type:"region"}).of(e)||a}catch(l){return a}},Ba=()=>{const e=(ae.getAllCountries()||[]).map(e=>({label:qa(e.isoCode,e.name),value:e.isoCode})),a=e.find(e=>"CN"===e.value);Z.value=a?[a,...e.filter(e=>"CN"!==e.value)]:e};m(()=>{try{if(o().isDomestic){X.value="CN";localStorage.getItem("purchase_shipping")||(K.value.country="CN")}const e=localStorage.getItem("purchase_shipping");e&&Object.assign(K.value,JSON.parse(e));const a=localStorage.getItem("purchase_contact");a&&Object.assign(B.value,JSON.parse(a)),Ba(),Wa(),(async()=>{const e=await t.common(l.getProductList);if(0===e.code){const a=(e.data.list||[]).find(e=>e.product_info?.mark===A.series);a&&(Ha.value=a.price?.amount||0,Ea.value=a.price?.currency||"",Oa.value=a.id||"")}})(),(async()=>{ne.value=!0;try{const e=await t.common(l.getAvailableCoupon);0===e.code&&(ce.value=e.data||[])}catch(e){console.error("èŽ·å–ä¼˜æƒ åˆ¸åˆ—è¡¨å¤±è´¥:",e),ce.value=[]}finally{ne.value=!1}})(),(async()=>{Ua.value=!0;try{const e=await x.getShopList();0===e.code&&(pe.value=e.data||[])}catch(e){console.error("èŽ·å–åº—é“ºåˆ—è¡¨å¤±è´¥:",e),pe.value=[]}finally{Ua.value=!1}})(),(async()=>{me.value=!0;try{const e=await D.getMyGreetingCardList();if(200===e.code){const a=e.rows||[];ue.value=a.map(e=>({id:e.id,name:e.title,imageUrl:e.extraInfo?.image?.replace(/`/g,"").trim()||"",message:e?.content,cardMessage:e.extraInfo?.cardMessage||""}))}}catch(e){console.error("èŽ·å–è´ºå¡åˆ—è¡¨å¤±è´¥:",e),ue.value=[]}finally{me.value=!1}})()}catch(e){}}),p(()=>K.value.country,()=>{Wa()}),p(()=>se.value,(e,a)=>{console.log("Language changed from",a,"to",e),Ba(),Wa()});const Xa=()=>{Ra(),te.value=!1,T()},Ka=()=>{},Za=()=>{te.value=!1},Wa=()=>{const e=ee.getStatesOfCountry(K.value.country)||[];W.value=e.map(e=>{let a=e.name;if("CN"===K.value.country){const l=e.isoCode?.startsWith("CN-")?e.isoCode:`CN-${e.isoCode}`;a=("zh"===se.value?{"CN-BJ":"åŒ—äº¬å¸‚","CN-SH":"ä¸Šæµ·å¸‚","CN-TJ":"å¤©æ´¥å¸‚","CN-CQ":"é‡åº†å¸‚","CN-HE":"æ²³åŒ—çœ","CN-SX":"å±±è¥¿çœ","CN-NM":"å†…è’™å¤è‡ªæ²»åŒº","CN-LN":"è¾½å®çœ","CN-JL":"å‰æž—çœ","CN-HL":"é»‘é¾™æ±Ÿçœ","CN-JS":"æ±Ÿè‹çœ","CN-ZJ":"æµ™æ±Ÿçœ","CN-AH":"å®‰å¾½çœ","CN-FJ":"ç¦å»ºçœ","CN-JX":"æ±Ÿè¥¿çœ","CN-SD":"å±±ä¸œçœ","CN-HA":"æ²³å—çœ","CN-HB":"æ¹–åŒ—çœ","CN-HN":"æ¹–å—çœ","CN-GD":"å¹¿ä¸œçœ","CN-GX":"å¹¿è¥¿å£®æ—è‡ªæ²»åŒº","CN-HI":"æµ·å—çœ","CN-SC":"å››å·çœ","CN-GZ":"è´µå·žçœ","CN-YN":"äº‘å—çœ","CN-XZ":"è¥¿è—è‡ªæ²»åŒº","CN-SN":"é™•è¥¿çœ","CN-GS":"ç”˜è‚ƒçœ","CN-QH":"é’æµ·çœ","CN-NX":"å®å¤å›žæ—è‡ªæ²»åŒº","CN-XJ":"æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº","CN-TW":"å°æ¹¾çœ","CN-HK":"é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº","CN-MO":"æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº"}:{"CN-BJ":"Beijing","CN-SH":"Shanghai","CN-TJ":"Tianjin","CN-CQ":"Chongqing","CN-HE":"Hebei","CN-SX":"Shanxi","CN-NM":"Inner Mongolia","CN-LN":"Liaoning","CN-JL":"Jilin","CN-HL":"Heilongjiang","CN-JS":"Jiangsu","CN-ZJ":"Zhejiang","CN-AH":"Anhui","CN-FJ":"Fujian","CN-JX":"Jiangxi","CN-SD":"Shandong","CN-HA":"Henan","CN-HB":"Hubei","CN-HN":"Hunan","CN-GD":"Guangdong","CN-GX":"Guangxi Zhuang Autonomous Region","CN-HI":"Hainan","CN-SC":"Sichuan","CN-GZ":"Guizhou","CN-YN":"Yunnan","CN-XZ":"Tibet Autonomous Region","CN-SN":"Shaanxi","CN-GS":"Gansu","CN-QH":"Qinghai","CN-NX":"Ningxia Hui Autonomous Region","CN-XJ":"Xinjiang Uygur Autonomous Region","CN-TW":"Taiwan","CN-HK":"Hong Kong SAR","CN-MO":"Macau SAR"})[l]||e.name}return{label:a,value:e.isoCode}}),W.value.length>0&&!K.value.state&&(K.value.state=W.value[0].value)};return(a,l)=>{const t=H,s=O,o=J,i=M,n=F,r=G,u=z;return e.show?(g(),h("div",{key:0,class:"purchase-overlay",onClick:T},[y("div",{class:"purchase-container",onClick:l[16]||(l[16]=V(()=>{},["stop"]))},[oe.value?(g(),h("div",ye,[...l[17]||(l[17]=[y("div",{class:"paying-content"},[y("div",{class:"paying-spinner"}),y("div",{class:"paying-text"},k("PayLoading"))],-1)])])):_("",!0),y("button",{class:"close-button",onClick:T,"aria-label":"å…³é—­"},[f(w(j),{class:"close-icon"},{default:C(()=>[f(w(E))]),_:1})]),y("div",ke,[y("section",fe,[y("div",Ce,[y("img",{src:A.modelData.imageUrl,alt:"Custom Models"},null,8,be)]),y("div",Ne,[y("h1",_e,k(a.$t("checkout.customModel")),1),y("div",we,[y("span",$e,k(a.$t("checkout.from"))+" "+k("USD"==Ea.value?"$":Ea.value)+" "+k(ve.value.toFixed(2)),1)])])]),y("div",Se,[y("div",Pe,[y("div",Ie,[y("h2",Ve,k(a.$t("checkout.configuration")),1),y("div",xe,[y("div",De,[y("div",Me,k(a.$t("checkout.quantity")),1),y("div",je,[y("button",{class:"qty-btn",onClick:za},"âˆ’"),y("div",Ae,k(R.value),1),y("button",{class:"qty-btn",onClick:Ga},"ï¼‹")])]),y("div",Ue,[y("div",Te,k(a.$t("checkout.ipName")),1),f(t,{modelValue:q.value,"onUpdate:modelValue":l[0]||(l[0]=e=>q.value=e),placeholder:a.$t("checkout.ipNamePlaceholder"),class:"ip-name-input"},null,8,["modelValue","placeholder"]),"A1"==e.series?(g(),h("div",Ee,k(a.$t("checkout.ipNameHint")),1)):_("",!0)]),y("div",He,[y("div",Oe,k(a.$t("checkout.shop")),1),f(o,{modelValue:Aa.value,"onUpdate:modelValue":l[1]||(l[1]=e=>Aa.value=e),placeholder:a.$t("checkout.chooseShop"),filterable:"",loading:Ua.value,class:"shop-select-input",clearable:"","value-key":"id"},{default:C(()=>[(g(!0),h(S,null,P(pe.value,e=>(g(),N(s,{key:e.id,label:e.shopName,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","loading"])])])]),"A1"==e.series?(g(),h("div",Je,[y("h2",Le,[l[18]||(l[18]=y("span",{class:"title-icon"},"ðŸ’",-1)),b(" "+k(a.$t("checkout.greetingCard")),1)]),y("div",Fe,[me.value?(g(),h("div",Ge,[l[19]||(l[19]=y("div",{class:"loading-spinner"},null,-1)),y("span",null,k(a.$t("checkout.loading")),1)])):0===ue.value.length?(g(),h("div",ze,[y("span",null,k(a.$t("checkout.noGreetingCards")),1),f(i,{type:"primary",class:"create-greeting-card-btn",onClick:Ja},{default:C(()=>[f(w(j),null,{default:C(()=>[f(w(L))]),_:1}),b(" "+k(a.$t("checkout.createGreetingCard")),1)]),_:1})])):(g(),N(o,{key:2,modelValue:de.value,"onUpdate:modelValue":l[2]||(l[2]=e=>de.value=e),placeholder:a.$t("checkout.greetingCardPlaceholder"),class:"greeting-card-select","value-key":"id",clearable:"",teleported:""},{prefix:C(()=>[de.value?(g(),h("div",Qe,[y("img",{src:de.value.imageUrl,class:"greeting-card-prefix"},null,8,Re),b(" "+k(de.value.cardMessage),1)])):(g(),h("span",qe,"ðŸ’"))]),default:C(()=>[(g(!0),h(S,null,P(ue.value,e=>(g(),N(s,{key:e.id,value:e,class:"greeting-card-option"},{default:C(()=>[y("div",Be,[y("img",{src:e.imageUrl,alt:e.name,class:"greeting-card-thumb"},null,8,Xe),y("div",Ke,[y("div",Ze,k(e.cardMessage),1)])])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","placeholder"])),de.value?(g(),h("div",We,[y("div",Ye,[y("div",ea,k(de.value.message),1)])])):_("",!0)])])):_("",!0),y("div",aa,[y("h2",la,k(a.$t("checkout.voucher")),1),y("div",ta,[ne.value?(g(),h("div",sa,[l[20]||(l[20]=y("div",{class:"loading-spinner"},null,-1)),y("span",null,k(a.$t("checkout.loading")),1)])):0===ce.value.length?(g(),h("div",oa,[y("span",null,k(a.$t("checkout.noVouchers")),1)])):(g(),h("div",ca,[(g(!0),h(S,null,P(ce.value,e=>(g(),h("div",{key:e.id,class:I(["voucher-item",{selected:ie.value?.id===e.id}]),onClick:a=>(e=>{ie.value?.id===e.id?ie.value=null:ie.value=e,La()})(e)},[y("div",na,[y("div",ra,k("USD"===e.currency?"$":e.currency)+k(e.amount),1),y("div",ua,k(e.couponCode),1)]),y("div",da,[y("div",ma,k(e.sourceDesc),1),y("div",va,k(a.$t("checkout.minOrder"))+": "+k("USD"===e.currency?"$":e.currency)+k(e.minOrderAmount),1),y("div",pa,k(a.$t("checkout.expireAt"))+": "+k(Fa(e.expireAt)),1)]),y("div",ha,[ie.value?.id===e.id?(g(),h("div",ga,"âœ“")):_("",!0)])],10,ia))),128))]))])]),w(c)()?_("",!0):(g(),h("div",ya,[y("div",ka,[y("h2",fa,k(a.$t("checkout.contact")),1),f(u,{class:"contact-form"},{default:C(()=>[f(n,{label:a.$t("checkout.emailOrPhone")},{default:C(()=>[f(t,{modelValue:B.value.emailOrPhone,"onUpdate:modelValue":l[3]||(l[3]=e=>B.value.emailOrPhone=e),placeholder:a.$t("checkout.emailOrPhone")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),f(n,null,{default:C(()=>[f(r,{modelValue:B.value.subscribe,"onUpdate:modelValue":l[4]||(l[4]=e=>B.value.subscribe=e)},{default:C(()=>[b(k(a.$t("checkout.subscribe")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),y("div",Ca,[y("h3",ba,k(a.$t("checkout.processTitle")||"æˆ‘ä»¬çš„æµç¨‹å¦‚ä¸‹"),1),y("ul",Na,[y("li",null,k(a.$t("checkout.orderConfirmation")),1),y("li",null,k(a.$t("checkout.logistics")),1),y("li",null,k(a.$t("checkout.afterSales")),1)])])]),w(c)()?_("",!0):(g(),h("div",_a,[y("h2",wa,k(a.$t("checkout.shipping")),1),f(u,{model:K.value,"label-width":"auto",class:"shipping-form"},{default:C(()=>[y("div",$a,[f(n,{label:a.$t("checkout.country")},{default:C(()=>[f(o,{modelValue:K.value.country,"onUpdate:modelValue":l[5]||(l[5]=e=>K.value.country=e),placeholder:a.$t("checkout.chooseCountry"),filterable:""},{default:C(()=>[(g(!0),h(S,null,P(Z.value,e=>(g(),N(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),y("div",Sa,[f(n,{label:a.$t("checkout.lastName")},{default:C(()=>[f(t,{modelValue:K.value.lastName,"onUpdate:modelValue":l[6]||(l[6]=e=>K.value.lastName=e),placeholder:a.$t("checkout.lastName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),f(n,{label:a.$t("checkout.firstName")},{default:C(()=>[f(t,{modelValue:K.value.firstName,"onUpdate:modelValue":l[7]||(l[7]=e=>K.value.firstName=e),placeholder:a.$t("checkout.firstName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),y("div",Pa,[f(n,{label:a.$t("checkout.postalCode")},{default:C(()=>[f(t,{modelValue:K.value.postalCode,"onUpdate:modelValue":l[8]||(l[8]=e=>K.value.postalCode=e),placeholder:`${a.$t("checkout.postalCode")} (${a.$t("common.optional")})`},{suffix:C(()=>[f(w(j),null,{default:C(()=>[f(w(Q))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),f(n,{label:a.$t("checkout.state")},{default:C(()=>[f(o,{modelValue:K.value.state,"onUpdate:modelValue":l[9]||(l[9]=e=>K.value.state=e),placeholder:a.$t("checkout.chooseState")},{default:C(()=>[(g(!0),h(S,null,P(W.value,e=>(g(),N(s,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),y("div",Ia,[f(n,{label:a.$t("checkout.city"),class:"full-width"},{default:C(()=>[f(t,{modelValue:K.value.city,"onUpdate:modelValue":l[10]||(l[10]=e=>K.value.city=e),placeholder:a.$t("checkout.city")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),y("div",Va,[f(n,{label:a.$t("checkout.address1"),class:"full-width"},{default:C(()=>[f(t,{modelValue:K.value.address1,"onUpdate:modelValue":l[11]||(l[11]=e=>K.value.address1=e),placeholder:a.$t("checkout.address1")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),y("div",xa,[f(n,{label:a.$t("checkout.address2"),class:"full-width"},{default:C(()=>[f(t,{modelValue:K.value.address2,"onUpdate:modelValue":l[12]||(l[12]=e=>K.value.address2=e),placeholder:a.$t("checkout.address2")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),y("div",Da,[f(n,{label:a.$t("checkout.phone"),class:"full-width"},{default:C(()=>[f(t,{modelValue:K.value.phone,"onUpdate:modelValue":l[13]||(l[13]=e=>K.value.phone=e),placeholder:a.$t("checkout.phone")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),f(n,null,{default:C(()=>[f(r,{modelValue:K.value.saveInfo,"onUpdate:modelValue":l[14]||(l[14]=e=>K.value.saveInfo=e)},{default:C(()=>[b(k(a.$t("checkout.saveInfo")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]))]))])]),y("div",Ma,[w(c)()?(g(),h("button",{key:1,class:"buy-btn",onClick:Qa},k(a.$t("checkout.buy")),1)):(g(),h("button",{key:0,class:"buy-btn",disabled:Ta.value,onClick:Qa},k(a.$t("checkout.buy")),9,ja))]),te.value?(g(),h("div",{key:0,class:"stripe-overlay",onClick:Za},[y("div",{class:"stripe-card",onClick:l[15]||(l[15]=V(()=>{},["stop"]))},[f(he,{amount:ve.value,currency:"usd",orderId:A.id||String(Date.now()),customerEmail:B.value.emailOrPhone||"",onPaymentSuccess:Xa,onPaymentError:Ka,onCancel:Za},null,8,["amount","orderId","customerEmail"])])])):_("",!0)])])])):_("",!0)}}},[["__scopeId","data-v-97b12f27"]]),Ua=["aria-label"],Ta={class:"process-header"},Ea={class:"title"},Ha={class:"subtitle"},Oa={class:"process-timeline"},Ja={class:"timeline-marker"},La={class:"marker-icon"},Fa={key:0,class:"marker-line"},Ga={class:"timeline-content"},za={class:"step-title"},Qa={class:"step-description"},Ra={class:"step-time"},qa={key:0,class:"step-thumbnail"},Ba={key:0,src:"https://draft-user.s3.us-east-2.amazonaws.com/images/6b88a2e2-bedb-480e-8b4c-552e4bb91af3.png",alt:"äº§å“é›¶ä»¶ç¤ºä¾‹å›¾",class:"thumbnail-image"},Xa={key:1,src:"https://draft-user.s3.us-east-2.amazonaws.com/images/4abf3da6-6abe-4604-adb9-554cf49d9743.webp",alt:"äº§å“é›¶ä»¶ç¤ºä¾‹å›¾",class:"thumbnail-image"},Ka={key:2,src:"https://draft-user.s3.us-east-2.amazonaws.com/images/1a359f21-1dcd-4167-90ca-7e5eb86a45db.png",alt:"äº§å“é›¶ä»¶ç¤ºä¾‹å›¾",class:"thumbnail-image"},Za={class:"thumbnail-caption"},Wa={class:"process-note"},Ya={class:"actions"},el=s({__name:"index",props:{show:{type:Boolean,default:!1},modelData:{type:Object,default:null},series:{type:String,default:""}},emits:["close","acknowledge"],setup(e,{emit:a}){const{t:l}=r(),t=e,s=a,o=()=>c(),c=()=>s("close"),i=()=>{s("acknowledge",t.modelData),c()},n=d(()=>[{icon:R,title:l("orderProcess.steps.payment.title"),description:l("orderProcess.steps.payment.description"),time:l("orderProcess.steps.payment.time")},{icon:q,title:l("orderProcess.steps.review.title"),description:l("orderProcess.steps.review.description"),time:l("orderProcess.steps.scheduling.time")},{icon:B,title:l("orderProcess.steps.scheduling.title"),description:l("orderProcess.steps.scheduling.description"),time:l("orderProcess.steps.scheduling.time")},{icon:X,title:l("orderProcess.steps.production.title"),description:l("orderProcess.steps.production.description"),time:{D1:l("orderProcess.steps.production.time"),E1:l("orderProcess.steps.production.time2")}[t.series]},{icon:K,title:l("orderProcess.steps.inspection.title"),description:l("orderProcess.steps.inspection.description"),time:l("orderProcess.steps.inspection.time"),hasThumbnail:!0},{icon:Z,title:l("orderProcess.steps.shipping.title"),description:l("orderProcess.steps.shipping.description"),time:l("orderProcess.steps.scheduling.time")}]);return(a,t)=>e.show?(g(),h("div",{key:0,class:"order-process-overlay",onClick:o},[y("div",{class:"order-process-container",onClick:t[0]||(t[0]=V(()=>{},["stop"]))},[y("button",{class:"close-button",onClick:c,"aria-label":a.$t("common.close")||"å…³é—­"},[f(w(j),{class:"close-icon"},{default:C(()=>[f(w(E))]),_:1})],8,Ua),y("div",Ta,[y("h2",Ea,k(a.$t("orderProcess.title")||"å®šåˆ¶åˆ°å®¶æµç¨‹"),1),y("p",Ha,k(a.$t("orderProcess.subtitle")||"äº†è§£æ‚¨çš„æ¨¡åž‹ä»Žåˆ¶ä½œåˆ°å‘è´§çš„å…¨è¿‡ç¨‹"),1)]),y("div",Oa,[(g(!0),h(S,null,P(n.value,(a,t)=>(g(),h("div",{class:"timeline-item",key:t},[y("div",Ja,[y("div",La,[f(w(j),null,{default:C(()=>[(g(),N(x(a.icon)))]),_:2},1024)]),t<n.value.length-1?(g(),h("div",Fa)):_("",!0)]),y("div",Ga,[y("h3",za,k(a.title),1),y("p",Qa,k(a.description),1),y("div",Ra,k(a.time),1),a.hasThumbnail?(g(),h("div",qa,["A1"===e.series?(g(),h("img",Ba)):_("",!0),"D1"===e.series?(g(),h("img",Xa)):"E1"===e.series?(g(),h("img",Ka)):_("",!0),y("p",Za,k(w(l)("orderProcess.steps.inspection.thumbnailCaption")),1)])):_("",!0)])]))),128))]),y("div",Wa,[f(w(j),{class:"note-icon"},{default:C(()=>[f(w(W))]),_:1}),y("p",null,k(a.$t("orderProcess.note")||"æ³¨æ„ï¼šä»¥ä¸Šæ—¶é—´ä¸ºå·¥ä½œæ—¥è®¡ç®—ï¼ŒèŠ‚å‡æ—¥å¯èƒ½ä¼šé¡ºå»¶ã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœ"),1)]),y("div",Ya,[y("button",{class:"acknowledge-btn",onClick:i},k(a.$t("orderProcess.acknowledge")||"æˆ‘å·²çŸ¥æ™“"),1)])])])):_("",!0)}},[["__scopeId","data-v-f6c730af"]]),al={class:"confirm-title"},ll={class:"warning-message-box"},tl={class:"confirm-message"},sl={class:"confirm-actions"},ol=s({__name:"index",props:{show:{type:Boolean,default:!1}},emits:["confirm","cancel"],setup(e,{emit:a}){const l=a,{t:t}=r(),s=()=>{l("confirm")},o=()=>{l("cancel")},c=()=>{o()};return(a,l)=>e.show?(g(),h("div",{key:0,class:"download-confirm-overlay",onClick:c},[y("div",{class:"download-confirm-container",onClick:l[0]||(l[0]=V(()=>{},["stop"]))},[y("button",{class:"close-button",onClick:o},[...l[1]||(l[1]=[y("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),l[3]||(l[3]=D('<div class="icon-container warning" data-v-3ea414a5><svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-3ea414a5><path d="M12 9V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-3ea414a5></path><path d="M12 17H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-3ea414a5></path><path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" data-v-3ea414a5></path></svg></div>',1)),y("h3",al,k(w(t)("modelModal.downloadConfirmTitle")),1),y("div",ll,[l[2]||(l[2]=y("svg",{class:"warning-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M12 9V13M12 17H12.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor","stroke-width":"2"})],-1)),y("p",tl,k(w(t)("modelModal.downloadConfirmMessage")),1)]),y("div",sl,[y("button",{class:"action-button cancel",onClick:o},k(w(t)("modelModal.cancel")),1),y("button",{class:"action-button confirm",onClick:s},k(w(t)("modelModal.confirm")),1)])])])):_("",!0)}},[["__scopeId","data-v-3ea414a5"]]);function cl(e,a,l,t={}){const s={passive:!0,...t};return e.addEventListener(a,l,s),()=>{e.removeEventListener(a,l,s)}}export{ol as D,se as M,el as O,Aa as P,cl as a};
