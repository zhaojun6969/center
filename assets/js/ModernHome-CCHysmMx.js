import{_ as t,u as a,g as e,m as s,e as i}from"./index-7lN_iYAB.js";import{y as n,r as o,z as l,j as r,f as c,U as u,A as d,C as h,B as p,az as m,c as f,L as v,u as g,R as V,P as w,I as b,J as y,aD as C,Q as F,a5 as k,aA as E,O as S,D as A,M as D}from"./vendor-zwaLhAD5.js";import{S as _}from"./SeriesSelector-J57EWwo-.js";import{M as x}from"./index-CZQe1qZR.js";import{s as N}from"./date-CgH6eVIF.js";import{F as j,E as P,g as T,au as M,o as O,t as U,u as z,ab as I,av as R,ae as q,aw as B,f as Y,ax as L,ay as $,$ as G,az as H,ag as J}from"./elementPlus-CAPqDV7g.js";import"./utils-D5HVl94d.js";var Q=function(){return Q=Object.assign||function(t){for(var a,e=1,s=arguments.length;e<s;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t},Q.apply(this,arguments)},K=function(){function t(t,a,e){var s=this;this.endVal=a,this.options=e,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){s.startTime||(s.startTime=t);var a=t-s.startTime;s.remaining=s.duration-a,s.useEasing?s.countDown?s.frameVal=s.startVal-s.easingFn(a,0,s.startVal-s.endVal,s.duration):s.frameVal=s.easingFn(a,s.startVal,s.endVal-s.startVal,s.duration):s.frameVal=s.startVal+(s.endVal-s.startVal)*(a/s.duration);var e=s.countDown?s.frameVal<s.endVal:s.frameVal>s.endVal;s.frameVal=e?s.endVal:s.frameVal,s.frameVal=Number(s.frameVal.toFixed(s.options.decimalPlaces)),s.printValue(s.frameVal),a<s.duration?s.rAF=requestAnimationFrame(s.count):null!==s.finalEndVal?s.update(s.finalEndVal):s.options.onCompleteCallback&&s.options.onCompleteCallback()},this.formatNumber=function(t){var a,e,i,n,o=t<0?"-":"";a=Math.abs(t).toFixed(s.options.decimalPlaces);var l=(a+="").split(".");if(e=l[0],i=l.length>1?s.options.decimal+l[1]:"",s.options.useGrouping){n="";for(var r=3,c=0,u=0,d=e.length;u<d;++u)s.options.useIndianSeparators&&4===u&&(r=2,c=1),0!==u&&c%r==0&&(n=s.options.separator+n),c++,n=e[d-u-1]+n;e=n}return s.options.numerals&&s.options.numerals.length&&(e=e.replace(/[0-9]/g,function(t){return s.options.numerals[+t]}),i=i.replace(/[0-9]/g,function(t){return s.options.numerals[+t]})),o+s.options.prefix+e+i+s.options.suffix},this.easeOutExpo=function(t,a,e,s){return e*(1-Math.pow(2,-10*t/s))*1024/1023+a},this.options=Q(Q({},this.defaults),e),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return s.handleScroll(s)}),window.onscroll=function(){window.onScrollFns.forEach(function(t){return t()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var a=window.innerHeight+window.scrollY,e=t.el.getBoundingClientRect(),s=e.top+window.pageYOffset,i=e.top+e.height+window.pageYOffset;i<a&&i>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>i||s>a)&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var a=t-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var e=this.countDown?1:-1;this.endVal=t+e*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var a;if(this.el){var e=this.formattingFn(t);null!==(a=this.options.plugin)&&void 0!==a&&a.render?this.options.plugin.render(this.el,e):"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e}},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var a=Number(t);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const W={class:"countup-wrap"},X=n({name:"CountUp",props:{endVal:{},startVal:{default:0},duration:{default:2.5},decimalPlaces:{default:0},autoplay:{type:Boolean,default:!0},loop:{type:[Boolean,Number],default:!1},delay:{default:0},options:{default:void 0}},emits:["init","finished"],setup(t,{expose:a,emit:e}){const s=t,i=e;let n=o(),m=o(),f=0;const v=o(!1);let g;function V(){if(!n.value)return void console.warn("[vue-countup-v3]","elRef can't found");f=0,v.value=!1;const t=Number(s.startVal),a=Number(s.endVal),e=Number(s.duration);m.value=new K(n.value,a,{startVal:t,duration:e,decimalPlaces:s.decimalPlaces,...s.options}),m.value.error?console.error("[vue-countup-v3]",m.value.error):i("init",m.value)}function w(){var t;m.value||V(),null==(t=m.value)||t.start(function(){"boolean"==typeof s.loop&&s.loop||s.loop>f?g=function(t,a=1){const e=o(-1);let s;return e.value=requestAnimationFrame(function i(n){s||(s=n),n-s<1e3*a?e.value=requestAnimationFrame(i):t()}),{cancel:function(){window.cancelAnimationFrame(e.value)}}}(()=>{var t;null==(t=m.value)||t.reset(),w()},s.delay):v.value=!0}),f++}function b(){null==g||g.cancel(),V(),w()}return r([()=>s.startVal,()=>s.endVal],()=>{s.autoplay&&b()}),r(v,t=>{var a;t&&(null!=(a=s.options)&&a.onCompleteCallback&&s.options.onCompleteCallback(),i("finished"))}),c(()=>{V(),s.autoplay&&w()}),u(()=>{var t;null==g||g.cancel(),null==(t=m.value)||t.reset()}),a({init:V,restart:b}),(t,a)=>(d(),l("div",W,[h(t.$slots,"prefix"),p("span",{ref_key:"elRef",ref:n},null,512),h(t.$slots,"suffix")]))}}),Z={key:0,class:"modern-home"},tt={class:"welcome-section"},at={class:"welcome-content"},et={class:"welcome-left"},st={class:"welcome-title"},it={key:0,class:"greeting"},nt={key:1,class:"greeting"},ot={class:"welcome-subtitle"},lt={class:"welcome-actions"},rt={key:1,class:"guest-actions"},ct={class:"welcome-right"},ut={class:"welcome-visual"},dt={class:"floating-cards"},ht={class:"welcome-avatar"},pt={class:"guest-login-tip"},mt={class:"stats-section"},ft={class:"stats-container"},vt={class:"stat-content"},gt={class:"stat-value"},Vt={class:"stat-unit"},wt={class:"stat-label"},bt={key:0,style:{height:"24px"}},yt=t({__name:"ModernHome",setup(t){const n=new x,r=()=>{h.value=!1},u=t=>{h.value=!1,(t=>{K.push(`/project/new/${t.name}`)})(t)},h=o(!1),{t:Q}=m(),K=E(),W=a(),yt={MagicStick:J,Star:H,Clock:G,Document:$,ArrowUp:L,ArrowDown:Y,Minus:B,VideoPlay:q,ChatDotRound:R,Tickets:M,Setting:I,Picture:U,Cpu:O,User:z},Ct=f(()=>[{id:"hours",value:N(Et.value.total_duration_seconds),unit:"m",label:Q("home.stats.hours"),icon:"Clock",color:"var(--home-stat-color-1)",trend:"down",trendIcon:"ArrowDown",trendValue:"8%"},{id:"projects",value:Et.value.project_count,unit:"",label:Q("home.stats.projects"),icon:"Document",color:"var(--home-stat-color-2)",trend:"stable",trendIcon:"Minus",trendValue:"0%"}]),Ft=f(()=>W.user);f(()=>Ft.value?.nickname||""),f(()=>Ft.value?.avatarUrl||""),e();const kt=t=>{K.push(t.path)},Et=o({total_duration_seconds:0,project_count:0,agent_count:0});return c(()=>{if(s.shenhe)return void K.replace("/meditation");e()&&n.getUserStatistics().then(t=>{0===t.code&&(Et.value=t.data)})}),(t,a)=>{const e=j,n=P,o=T;return g(s).shenhe?v("",!0):(d(),l("div",Z,[p("section",tt,[p("div",at,[p("div",et,[a[7]||(a[7]=p("div",{class:"welcome-logo"},[p("img",{src:"https://dcts99982ui0s.cloudfront.net/images/f74ba12f-ac19-4f69-82f3-edaafd978b03.png",alt:"Logo",class:"welcome-logo-image"}),p("div",{class:"logo-glow"})],-1)),p("h1",st,[Ft.value?(d(),l("span",it,w(g(Q)("home.welcome.title",{name:Ft.value.nickname||Ft.value.email})),1)):(d(),l("span",nt,w(g(Q)("home.welcome.title",{name:g(Q)("home.welcome.defaultName")})),1))]),p("p",ot,w(g(Q)("home.welcome.greetingMessage")),1),p("div",lt,[Ft.value?(d(),b(e,{key:0,type:"primary",size:"large",class:"action-btn primary-btn create-btn-large",onClick:a[0]||(a[0]=t=>h.value=!0)},{default:y(()=>[S(w(g(Q)("home.welcome.startCreating")),1)]),_:1})):(d(),l("div",rt,[V(e,{type:"primary",size:"large",class:"action-btn primary-btn create-btn-large",onClick:a[1]||(a[1]=t=>kt({path:"/login"}))},{default:y(()=>[S(w(g(Q)("home.welcome.loginToStart")),1)]),_:1}),V(e,{size:"large",class:"action-btn secondary-btn",onClick:a[2]||(a[2]=t=>kt({path:"/register"}))},{default:y(()=>[S(w(g(Q)("home.welcome.register")),1)]),_:1})]))])]),p("div",ct,[p("div",ut,[a[8]||(a[8]=C('<div class="animated-bg" data-v-cabddafb><div class="bg-circle circle-1" data-v-cabddafb></div><div class="bg-circle circle-2" data-v-cabddafb></div><div class="bg-circle circle-3" data-v-cabddafb></div><div class="bg-circle circle-4" data-v-cabddafb></div><div class="bg-circle circle-5" data-v-cabddafb></div></div>',1)),p("div",dt,[p("div",{class:"floating-card card-1",onClick:a[3]||(a[3]=t=>kt({path:"/order-management"}))},[V(n,null,{default:y(()=>[V(g(M))]),_:1}),p("span",null,w(g(Q)("home.floatingCards.orders")),1)]),p("div",{class:"floating-card card-2",onClick:a[4]||(a[4]=t=>kt({path:"/agent-management"}))},[V(n,null,{default:y(()=>[V(g(O))]),_:1}),p("span",null,w(g(Q)("home.floatingCards.settings")),1)]),p("div",{class:"floating-card card-3",onClick:a[5]||(a[5]=t=>kt({path:"/creation-workspace"}))},[V(n,null,{default:y(()=>[V(g(U))]),_:1}),p("span",null,w(g(Q)("sidebar.projects")),1)])]),p("div",ht,[Ft.value?(d(),b(o,{key:0,size:100,src:Ft.value?.avatarUrl},{default:y(()=>[V(n,{size:"50"},{default:y(()=>[V(g(z))]),_:1})]),_:1},8,["src"])):(d(),l("div",{key:1,class:"guest-avatar",onClick:a[6]||(a[6]=t=>kt({path:"/login"}))},[V(n,{size:"50"},{default:y(()=>[V(g(z))]),_:1}),p("div",pt,w(g(Q)("home.welcome.clickToLogin")),1)]))])])])])]),p("section",mt,[p("div",ft,[(d(!0),l(F,null,k(Ct.value,(t,a)=>(d(),l("div",{key:t.id,class:"stat-card",style:A({"--delay":.1*a+"s"})},[p("div",{class:"stat-icon",style:A({"--icon-color":t.color})},[(d(),b(D(yt[t.icon])))],4),p("div",vt,[p("div",gt,[V(g(X),{"end-val":t.value,duration:2},null,8,["end-val"]),p("span",Vt,w(t.unit),1)]),p("div",wt,w(t.label),1)])],4))),128))])]),V(_,{show:g(h),onConfirm:u,onCancel:r},null,8,["show"]),g(i).isPortraitDevice()?(d(),l("div",bt)):v("",!0)]))}}},[["__scopeId","data-v-cabddafb"]]);export{yt as default};
