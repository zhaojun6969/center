import{aB as e,aA as a,r as t,c as l,z as s,A as c,B as i,R as o,J as n,u,aJ as r,P as d,Q as v,a5 as m,E as p,K as h,ai as b,O as g}from"./vendor-p2oL7ibe.js";import{N as f,E as k}from"./elementPlus-BlcbFMqO.js";import{_ as D}from"./index-DlA8SRM3.js";const y={class:"purchase-page"},$={class:"content"},P={class:"right-panel"},q={class:"option-group"},w={class:"label"},S={class:"chip-group"},L=["onClick"],_={class:"option-group quantity"},C={class:"label"},j={class:"qty-row"},x={class:"qty-val"},z={class:"option-group"},M={class:"label"},U=["placeholder"],A={class:"timeline"},B={class:"timeline-title"},E={class:"timeline-hint"},I={class:"actions"},J=D({__name:"ModelPurchase",setup(D){const J=e(),O=a(),R=t(J.query.template||""),T=t(J.query.id||""),K=["3cm","4cm","5cm","6cm","7cm","8cm","10cm"],N=t(K[0]),Q=t({matte:!1,gloss:!1,base:!1}),V=t(1),F=t(J.query.modelUrl||""),G=l(()=>(new Date).toLocaleDateString()),H=l(()=>{const e=new Date;e.setDate(e.getDate()+7);const a=new Date;return a.setDate(a.getDate()+11),`${e.toLocaleDateString()}–${a.toLocaleDateString()}`}),W=l(()=>{const e=new Date;e.setDate(e.getDate()+14);const a=new Date;return a.setDate(a.getDate()+25),`${e.toLocaleDateString()}–${a.toLocaleDateString()}`}),X=()=>{V.value=Math.min(V.value+1,99)},Y=()=>{V.value=Math.max(V.value-1,1)},Z=()=>{const e=new URLSearchParams;R.value&&e.set("template",R.value),T.value&&e.set("ref",`model-${T.value}`),F.value&&e.set("modelLink",F.value),e.set("size",N.value),e.set("qty",String(V.value));const a=Object.keys(Q.value).filter(e=>Q.value[e]);a.length&&e.set("addons",a.join(","));const t=`https://tripo3d.myshopify.com/zh/products/custom-resin-3d-printed-figurine?${e.toString()}`;try{navigator.clipboard.writeText(String(T.value||F.value||""))}catch(l){}window.open(t,"_blank")},ee=()=>{O.back()};return(e,a)=>(c(),s("div",y,[i("button",{class:"back-button",onClick:ee,"aria-label":"返回"},[o(u(k),{class:"back-icon"},{default:n(()=>[o(u(f))]),_:1})]),i("div",$,[a[1]||(a[1]=r('<section class="left-panel" data-v-ec5ffa3e><div class="hero" data-v-ec5ffa3e></div><div class="info-block" data-v-ec5ffa3e><h3 class="block-title" data-v-ec5ffa3e>说明</h3><p class="block-text" data-v-ec5ffa3e>为了获得最佳效果，请在右侧填写 Tripo 的模型共享链接或模型 ID。</p></div></section>',1)),i("section",P,[i("div",q,[i("div",w,d(e.$t("checkout.size")),1),i("div",S,[(c(),s(v,null,m(K,e=>i("button",{key:e,class:p(["chip",{active:N.value===e}]),onClick:a=>N.value=e},d(e),11,L)),64))])]),i("div",_,[i("div",C,d(e.$t("checkout.quantity")),1),i("div",j,[i("button",{class:"qty-btn",onClick:Y},"−"),i("div",x,d(V.value),1),i("button",{class:"qty-btn",onClick:X},"＋")])]),i("div",z,[i("div",M,d(e.$t("modelPurchase.inputLabel")),1),h(i("input",{class:"input","onUpdate:modelValue":a[0]||(a[0]=e=>F.value=e),placeholder:e.$t("modelPurchase.inputPlaceholder")},null,8,U),[[b,F.value]])]),i("div",A,[i("div",B,d(e.$t("modelPurchase.timeline.title")),1),i("ul",null,[i("li",null,[i("strong",null,d(e.$t("modelPurchase.timeline.orderPlaced")),1),g(" "+d(G.value),1)]),i("li",null,[i("strong",null,d(e.$t("modelPurchase.timeline.orderShipped")),1),g(" "+d(H.value),1)]),i("li",null,[i("strong",null,d(e.$t("modelPurchase.timeline.delivered")),1),g(" "+d(W.value),1)])]),i("div",E,d(e.$t("modelPurchase.timeline.hint")),1)]),i("div",I,[i("button",{class:"buy-btn",onClick:Z},d(e.$t("checkout.buy")),1)])])])]))}},[["__scopeId","data-v-ec5ffa3e"]]);export{J as default};
