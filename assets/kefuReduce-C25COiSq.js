import{_ as e,g as s,L as a}from"./index-B89rLV4P.js";import{az as t,r as c,c as i,f as n,z as u,B as l,R as o,L as d,J as r,P as f,u as v,aA as m,A as k,O as p}from"./vendor-Bn3bPSOS.js";import{E as g,t as R,am as h,an as _,V as w,ao as y}from"./elementPlus-DTQfcfg-.js";const z={class:"kefu-reduce-container"},b={class:"controls-wrapper"},x={class:"kefu-reduce-card"},L={class:"header"},E={class:"title"},j={class:"description"},C={key:0,class:"detecting-section"},D={class:"detecting-text"},N={key:1,class:"environment-section"},T={class:"environment-info"},A={class:"info-item"},B={class:"info-label"},G={class:"info-item"},I={class:"info-label"},P={class:"info-item"},Q={class:"info-label"},S={key:0,class:"redirecting-section"},W={class:"redirecting-text"},Y={key:1,class:"manual-redirect-section"},J={class:"timeout-text"},O={class:"redirect-buttons"},V=e({__name:"kefuReduce",setup(e){const{t:V}=t();m();const q=c(!0),F=c(null),H=c(null),K=c(!1),M=i(()=>F.value?.isDomestic??!1),U=i(()=>M.value?V("kefuReduce.domestic"):V("kefuReduce.international")),X=i(()=>{const e=F.value?.confidence||"unknown",s={high:V("kefuReduce.confidenceLevels.high"),medium:V("kefuReduce.confidenceLevels.medium"),low:V("kefuReduce.confidenceLevels.low"),unknown:V("kefuReduce.confidenceLevels.unknown")};return s[e]||s.unknown}),Z=i(()=>{const e=F.value?.methods||{},s=[];return e.ip&&s.push(V("kefuReduce.methodNames.ip")),e.language&&s.push(V("kefuReduce.methodNames.language")),e.timezone&&s.push(V("kefuReduce.methodNames.timezone")),s.join(V("kefuReduce.separator"))||"-"}),$=async()=>{try{q.value=!0,K.value=!1;const e=await s({useCache:!0,ipDetection:!0,timeout:5e3});F.value=e,q.value=!1,e.isDomestic?ee():se(),H.value=setTimeout(()=>{K.value=!0},5e3)}catch(e){q.value=!1,K.value=!0}},ee=()=>{window.location.href="https://discord.gg/Q2EaEGYW"},se=()=>{window.location.href="https://discord.gg/Q2EaEGYW"},ae=()=>{clearTimeout(H.value),K.value=!1,$()};return n(()=>{$()}),(e,s)=>{const t=g,c=R;return k(),u("div",z,[l("div",b,[o(a,{position:"top-right",class:"language-toggle-wrapper"})]),l("div",x,[l("div",L,[o(t,{class:"header-icon",size:48},{default:r(()=>[o(v(h))]),_:1}),l("h1",E,f(v(V)("kefuReduce.title")),1),l("p",j,f(v(V)("kefuReduce.description")),1)]),q.value?(k(),u("div",C,[o(t,{class:"loading-icon",size:32},{default:r(()=>[o(v(_),{class:"is-loading"})]),_:1}),l("p",D,f(v(V)("kefuReduce.detecting")),1)])):F.value?(k(),u("div",N,[l("div",T,[l("div",A,[l("span",B,f(v(V)("kefuReduce.environmentInfo",{env:U.value})),1),o(t,{class:"status-icon",size:20,color:"#10B981"},{default:r(()=>[o(v(w))]),_:1})]),l("div",G,[l("span",I,f(v(V)("kefuReduce.confidence",{level:X.value})),1)]),l("div",P,[l("span",Q,f(v(V)("kefuReduce.methods",{methods:Z.value})),1)])]),K.value?(k(),u("div",Y,[l("p",J,f(v(V)("kefuReduce.redirectTimeout")),1),l("div",O,[o(c,{type:"primary",size:"large",onClick:ee,class:"redirect-button"},{default:r(()=>[p(f(v(V)("kefuReduce.domesticService"))+" ",1),o(t,{class:"button-icon"},{default:r(()=>[o(v(y))]),_:1})]),_:1}),o(c,{type:"default",size:"large",onClick:se,class:"redirect-button"},{default:r(()=>[p(f(v(V)("kefuReduce.internationalService"))+" ",1),o(t,{class:"button-icon"},{default:r(()=>[o(v(y))]),_:1})]),_:1})]),o(c,{text:"",onClick:ae,class:"retry-button"},{default:r(()=>[o(t,{class:"retry-icon"},{default:r(()=>[o(v(_))]),_:1}),p(" "+f(v(V)("kefuReduce.manualRedirect")),1)]),_:1})])):(k(),u("div",S,[o(t,{class:"redirecting-icon",size:24},{default:r(()=>[o(v(_),{class:"is-loading"})]),_:1}),l("p",W,f(v(V)("kefuReduce.redirecting")),1)]))])):d("",!0)])])}}},[["__scopeId","data-v-a5a19f03"]]);export{V as default};
