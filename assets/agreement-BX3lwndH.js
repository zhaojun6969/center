import{ax as e,aB as a,r as t,c as s,f as r,z as n,B as l,P as o,u as c,aA as i,A as m}from"./vendor-p2oL7ibe.js";import{_ as d,i as u,r as v}from"./index-CqnzwUr8.js";import"./elementPlus-DzXnjnIh.js";const g={class:"agreement-page"},p={class:"content-container"},y={key:0,class:"loading-container"},f={class:"loading-text"},x={key:1,class:"error-container"},A={class:"error-text"},_=["innerHTML"],k=d({__name:"agreement",setup(d){i();const{t:k}=e(),h=a().params.type,j=t(""),P=t(!1),b=t("");s(()=>({"user-agreement":k("agreement.userAgreement"),"privacy-policy":k("agreement.privacyPolicy"),"terms-of-service":k("agreement.termsOfService")}[h]||k("agreement.title")));const B=async()=>{P.value=!0,b.value="";try{const e={method:u.getAgreement.method,url:u.getAgreement.url.replace("{type}",h)},a=await v.common(e);0===a.code&&a.success?j.value=a.data.content:b.value=a.message||k("agreement.loadFailed")}catch(e){b.value=k("agreement.loadFailed")}finally{P.value=!1}};return r(()=>{B()}),(e,a)=>(m(),n("div",g,[l("div",p,[P.value?(m(),n("div",y,[a[0]||(a[0]=l("div",{class:"loading-spinner"},null,-1)),l("p",f,o(c(k)("common.loading")),1)])):b.value?(m(),n("div",x,[a[1]||(a[1]=l("div",{class:"error-icon"},"⚠️",-1)),l("p",A,o(b.value),1),l("button",{class:"retry-button",onClick:B},o(c(k)("common.retry")),1)])):(m(),n("div",{key:2,class:"agreement-content",innerHTML:j.value},null,8,_))])]))}},[["__scopeId","data-v-64a5ca7f"]]);export{k as default};
